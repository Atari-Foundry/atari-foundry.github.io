<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">sio-operations | forge Documentation | Atari Foundry</title><meta name="description" content="forge documentation: sio-operations" data-next-head=""/><link rel="preload" href="/images/foundry_logo_50H.png" as="image" data-next-head=""/><link rel="preload" href="/_next/static/chunks/c81f129e50a5fd79.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/c81f129e50a5fd79.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/e8a4a4ae55bc5744.js" defer=""></script><script src="/_next/static/chunks/00dac80f236dcabb.js" defer=""></script><script src="/_next/static/chunks/44f6bc00d9aaf830.js" defer=""></script><script src="/_next/static/chunks/fd7cb30d70431a0f.js" defer=""></script><script src="/_next/static/chunks/turbopack-4769270d21ef6607.js" defer=""></script><script src="/_next/static/chunks/1b081b821847ed60.js" defer=""></script><script src="/_next/static/chunks/39b01aa8a3352426.js" defer=""></script><script src="/_next/static/chunks/b56fd671c61106a7.js" defer=""></script><script src="/_next/static/chunks/turbopack-ab1a8023ffca1f9c.js" defer=""></script><script src="/_next/static/uKcVMkypfjITnNYGcdC5l/_ssgManifest.js" defer=""></script><script src="/_next/static/uKcVMkypfjITnNYGcdC5l/_buildManifest.js" defer=""></script></head><body><div id="__next"><div class="crt"><div class="scanlines" aria-hidden="true"></div><div class="noise" aria-hidden="true"></div><nav class="nav"><a class="nav-brand" href="/"><img alt="Atari Foundry icon" width="72" height="50" decoding="async" data-nimg="1" style="color:transparent;height:40px;width:auto" src="/images/foundry_logo_50H.png"/><div><span class="nav-brand-title">Atari Foundry</span><span class="nav-brand-sub">Products for Atari 8-bit</span></div></a><ul class="nav-links"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/vault">Vault</a></li><li class="nav-item has-children"><button type="button" class="nav-link nav-trigger active" aria-haspopup="true" aria-expanded="false">Docs</button><div class="nav-dropdown"><a class="nav-dropdown-link" href="/docs/crucible">Crucible</a><a class="nav-dropdown-link" href="/docs/atrforge">atrforge</a><a class="nav-dropdown-link" href="/docs/forge">FORGE</a></div></li><li class="nav-item"><a class="nav-link" href="/support">Support</a></li></ul></nav><header class="subhero"><p class="label">forge<!-- --> Documentation</p><h1 class="page-title">sio-operations</h1></header><main><div class="docs-layout"><aside class="docs-sidebar"><nav class="docs-nav"><div class="docs-nav-section"><h3>Documentation</h3><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:0rem" href="/docs/forge/readme">README</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/forge/index">index</a></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">cc65</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/cc65">README</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">about</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/about/attributions">attributions</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/about/why-forge">why-forge</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">advanced topics</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/cio-reference">cio-reference</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/display-list-interrupts">display-list-interrupts</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/fujinet">fujinet</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/low-level-programming">low-level-programming</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/note-point">note-point</a></li><li><a class="doc-link active" style="padding-left:1.2rem" href="/docs/forge/advanced-topics/sio-operations">sio-operations</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/advanced-topics/xio-reference">xio-reference</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">getting started</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/getting-started/compiling">compiling</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/getting-started/differences">differences</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/getting-started/first-steps">first-steps</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/getting-started/introduction">introduction</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">editor</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/editor/editor-guide">editor-guide</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/editor/editor-optimization">editor-optimization</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">language reference</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/language-reference/expressions">expressions</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/language-reference/functions">functions</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/language-reference/statements">statements</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/language-reference/syntax">syntax</a></li></ul></div></li><li><div class="docs-nav-section" style="margin-top:0"><h4 style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.15em;color:rgba(255, 255, 255, 0.5);margin-bottom:0.6rem;font-weight:700;padding-left:0rem">reference</h4><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/hardware-registers">hardware-registers</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/interrupts">interrupts</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/iocb-structure">iocb-structure</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/memory-map">memory-map</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/memory-usage">memory-usage</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/os-equates">os-equates</a></li><li><a class="doc-link " style="padding-left:1.2rem" href="/docs/forge/reference/r-handler">r-handler</a></li></ul></div></li></ul></div></nav></aside><div class="docs-content"><div class="docs-body"><div class="doc-markdown"><h1>SIO Operations</h1>
<p>The Atari Serial Input Output interface is the low-level interface between the Atari 8-bit computers and the serial peripherals, like disk-drives and modems.</p>
<h2>Overview</h2>
<p>SIO (Serial Input/Output) is the protocol used by the Atari 8-bit computers to communicate with peripheral devices such as:</p>
<ul>
<li>Disk drives</li>
<li>Modems</li>
<li>Printers</li>
<li>Network adapters (FujiNet)</li>
<li>Other serial devices</li>
</ul>
<h2>SIO Statement</h2>
<h3>SIO <em>ddevic</em>, <em>dunit</em>, <em>dcomnd</em>, <em>dstats</em>, <em>dbuf</em>, <em>dtimlo</em>, <em>dbyt</em>, <em>daux1</em>, <em>daux2</em></h3>
<p><strong>Send Any Command Over SIO</strong></p>
<p>This function can be used to send any SIO command to any SIO device. For example, this command is used to read or write one sector in a floppy disk, or send special commands to a FujiNet network device.</p>
<h3>Parameters</h3>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DDEVIC</td><td>Device # (e.g. $71)</td></tr><tr><td>DUNIT</td><td>Unit #</td></tr><tr><td>DCOMND</td><td>Command # ($00-$FF)</td></tr><tr><td>DSTATS</td><td>Read($40) / Write($80)</td></tr><tr><td>DBUF</td><td>Target buffer address</td></tr><tr><td>DTIMLO</td><td>Timeout value</td></tr><tr><td>DBYT</td><td># of bytes in payload</td></tr><tr><td>DAUX1</td><td>First Aux parameter</td></tr><tr><td>DAUX2</td><td>Second Aux parameter</td></tr></tbody></table>
<p>The meanings of each of these is highly dependent on the target device.</p>
<h3>Example: Reading a Disk Sector</h3>
<pre><pre class="language-basic"><code class="language-basic">DIM sector(128) BYTE
&#x27; Read sector 360 from drive 1
SIO $31, 1, $52, $40, ADR(sector), 64, 128, 360, 0
IF SERR() &lt;&gt; 1 THEN ? &quot;Error reading sector&quot;
</code></pre></pre>
<h3>Example: Writing a Disk Sector</h3>
<pre><pre class="language-basic"><code class="language-basic">DIM sector(128) BYTE
&#x27; Write sector 360 to drive 1
SIO $31, 1, $57, $80, ADR(sector), 64, 128, 360, 0
IF SERR() &lt;&gt; 1 THEN ? &quot;Error writing sector&quot;
</code></pre></pre>
<h2>SERR() Function</h2>
<h3>SERR() / SE.</h3>
<p><strong>Get Last SIO Error Function</strong></p>
<p>This function returns the value in <code>DSTATS</code>, which contains the error of the last SIO operation from the device.</p>
<p>In the context of the FujiNet device, can be used, along with <code>DVSTAT+4</code> to determine any error from a network operation.</p>
<p><strong>Example:</strong></p>
<pre><pre class="language-basic"><code class="language-basic">SIO $71, 1, $FF, $40, ADR(buffer), 64, 0, 0, 0
IF SERR() &lt;&gt; 1 THEN
  ? &quot;SIO error: &quot;; SERR()
ENDIF
</code></pre></pre>
<h2>Common SIO Commands</h2>
<h3>Disk Drive Commands</h3>
<table><thead><tr><th>Command</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>Get Status</td><td>$53</td><td>Read drive status</td></tr><tr><td>Read Sector</td><td>$52</td><td>Read a sector</td></tr><tr><td>Write Sector</td><td>$57</td><td>Write a sector</td></tr><tr><td>Write Sector with Verify</td><td>$57</td><td>Write and verify</td></tr></tbody></table>
<h3>Device IDs</h3>
<p>Common device IDs:</p>
<ul>
<li><code>$31</code> - Disk drive (D1:)</li>
<li><code>$71</code> - FujiNet device</li>
<li><code>$50</code> - Printer</li>
<li><code>$60</code> - Modem</li>
</ul>
<h2>Error Handling</h2>
<p>Always check <code>SERR()</code> after an SIO operation:</p>
<pre><pre class="language-basic"><code class="language-basic">SIO $31, 1, $52, $40, ADR(buffer), 64, 128, 360, 0
IF SERR() &lt;&gt; 1 THEN
  ? &quot;SIO Error: &quot;; SERR()
  &#x27; Handle error
ENDIF
</code></pre></pre>
<h2>Timeout Values</h2>
<p>The <code>DTIMLO</code> parameter specifies the timeout value. Common values:</p>
<ul>
<li><code>64</code> - Standard timeout</li>
<li><code>128</code> - Longer timeout for slow devices</li>
<li><code>32</code> - Shorter timeout for fast operations</li>
</ul>
<h2>Buffer Management</h2>
<p>The <code>DBUF</code> parameter must point to a valid memory buffer. Use <code>ADR()</code> to get the address of arrays:</p>
<pre><pre class="language-basic"><code class="language-basic">DIM buffer(256) BYTE
SIO $31, 1, $52, $40, ADR(buffer), 64, 256, 0, 0
</code></pre></pre>
<h2>Advanced Usage</h2>
<h3>Sector Addressing</h3>
<p>For disk drives, sectors are typically addressed using:</p>
<ul>
<li><code>DAUX1</code> - Sector number (low byte)</li>
<li><code>DAUX2</code> - Sector number (high byte) or additional parameter</li>
</ul>
<p><strong>Example:</strong></p>
<pre><pre class="language-basic"><code class="language-basic">&#x27; Read sector 720 (high byte = 2, low byte = 208)
SIO $31, 1, $52, $40, ADR(buffer), 64, 128, 208, 2
</code></pre></pre>
<h3>Multiple Sector Operations</h3>
<p>For reading/writing multiple sectors, you may need to call SIO multiple times or use device-specific commands.</p>
<h2>FujiNet Integration</h2>
<p>SIO is heavily used with FujiNet devices. See <a node="[object Object]" href="/docs/forge/fujinet">FujiNet</a> for more details on network operations.</p>
<p><strong>Example:</strong></p>
<pre><pre class="language-basic"><code class="language-basic">&#x27; FujiNet status command
SIO $71, 1, $E0, $40, ADR(status), 64, 4, 0, 0
</code></pre></pre>
<h2>Best Practices</h2>
<ol>
<li><strong>Always check errors</strong> - Use <code>SERR()</code> after every SIO call</li>
<li><strong>Use appropriate timeouts</strong> - Adjust <code>DTIMLO</code> for your device</li>
<li><strong>Validate buffer sizes</strong> - Ensure <code>DBYT</code> matches your buffer</li>
<li><strong>Handle device-specific behavior</strong> - Different devices interpret parameters differently</li>
<li><strong>Test thoroughly</strong> - SIO operations can be device-dependent</li>
</ol>
<h2>Troubleshooting</h2>
<p><strong>SIO fails immediately:</strong></p>
<ul>
<li>Check device ID is correct</li>
<li>Verify device is connected and powered</li>
<li>Check unit number is valid</li>
</ul>
<p><strong>Timeout errors:</strong></p>
<ul>
<li>Increase <code>DTIMLO</code> value</li>
<li>Check device is responding</li>
<li>Verify cable connections</li>
</ul>
<p><strong>Data corruption:</strong></p>
<ul>
<li>Verify buffer address is correct</li>
<li>Check buffer size matches <code>DBYT</code></li>
<li>Ensure buffer is not overwritten during operation</li>
</ul>
<h2>Related Topics</h2>
<ul>
<li><a node="[object Object]" href="/docs/forge/fujinet">FujiNet</a> - Network operations with FujiNet</li>
<li><a node="[object Object]" href="/docs/forge/cio-reference">CIO Reference</a> - Higher-level I/O operations</li>
<li><a node="[object Object]" href="/docs/forge/xio-reference">XIO Reference</a> - Extended I/O commands</li>
<li><a node="[object Object]" href="/docs/forge/low-level-programming">Low-Level Programming</a> - Memory operations</li>
</ul></div></div></div></div></main><footer class="footer"><p>© 2026 Atari Foundry · Rick Collette · Software for Atari 8-bit builders.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"product":"forge","productDocs":{"product":"forge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/cc65/README.md","relativePath":"cc65/README.md","relativeDir":"cc65","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/about/attributions.md","relativePath":"about/attributions.md","relativeDir":"about","filename":"attributions","slug":"attributions","name":"attributions"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/cio-reference.md","relativePath":"advanced-topics/cio-reference.md","relativeDir":"advanced-topics","filename":"cio-reference","slug":"cio-reference","name":"cio-reference"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/compiling.md","relativePath":"getting-started/compiling.md","relativeDir":"getting-started","filename":"compiling","slug":"compiling","name":"compiling"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/differences.md","relativePath":"getting-started/differences.md","relativeDir":"getting-started","filename":"differences","slug":"differences","name":"differences"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/display-list-interrupts.md","relativePath":"advanced-topics/display-list-interrupts.md","relativeDir":"advanced-topics","filename":"display-list-interrupts","slug":"display-list-interrupts","name":"display-list-interrupts"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/editor/editor-guide.md","relativePath":"editor/editor-guide.md","relativeDir":"editor","filename":"editor-guide","slug":"editor-guide","name":"editor-guide"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/editor/editor-optimization.md","relativePath":"editor/editor-optimization.md","relativeDir":"editor","filename":"editor-optimization","slug":"editor-optimization","name":"editor-optimization"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/expressions.md","relativePath":"language-reference/expressions.md","relativeDir":"language-reference","filename":"expressions","slug":"expressions","name":"expressions"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/first-steps.md","relativePath":"getting-started/first-steps.md","relativeDir":"getting-started","filename":"first-steps","slug":"first-steps","name":"first-steps"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/fujinet.md","relativePath":"advanced-topics/fujinet.md","relativeDir":"advanced-topics","filename":"fujinet","slug":"fujinet","name":"fujinet"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/functions.md","relativePath":"language-reference/functions.md","relativeDir":"language-reference","filename":"functions","slug":"functions","name":"functions"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/hardware-registers.md","relativePath":"reference/hardware-registers.md","relativeDir":"reference","filename":"hardware-registers","slug":"hardware-registers","name":"hardware-registers"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/index.md","relativePath":"index.md","relativeDir":"","filename":"index","slug":"index","name":"index"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/interrupts.md","relativePath":"reference/interrupts.md","relativeDir":"reference","filename":"interrupts","slug":"interrupts","name":"interrupts"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/introduction.md","relativePath":"getting-started/introduction.md","relativeDir":"getting-started","filename":"introduction","slug":"introduction","name":"introduction"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/iocb-structure.md","relativePath":"reference/iocb-structure.md","relativeDir":"reference","filename":"iocb-structure","slug":"iocb-structure","name":"iocb-structure"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/low-level-programming.md","relativePath":"advanced-topics/low-level-programming.md","relativeDir":"advanced-topics","filename":"low-level-programming","slug":"low-level-programming","name":"low-level-programming"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/memory-map.md","relativePath":"reference/memory-map.md","relativeDir":"reference","filename":"memory-map","slug":"memory-map","name":"memory-map"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/memory-usage.md","relativePath":"reference/memory-usage.md","relativeDir":"reference","filename":"memory-usage","slug":"memory-usage","name":"memory-usage"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/note-point.md","relativePath":"advanced-topics/note-point.md","relativeDir":"advanced-topics","filename":"note-point","slug":"note-point","name":"note-point"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/os-equates.md","relativePath":"reference/os-equates.md","relativeDir":"reference","filename":"os-equates","slug":"os-equates","name":"os-equates"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/r-handler.md","relativePath":"reference/r-handler.md","relativeDir":"reference","filename":"r-handler","slug":"r-handler","name":"r-handler"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/sio-operations.md","relativePath":"advanced-topics/sio-operations.md","relativeDir":"advanced-topics","filename":"sio-operations","slug":"sio-operations","name":"sio-operations"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/statements.md","relativePath":"language-reference/statements.md","relativeDir":"language-reference","filename":"statements","slug":"statements","name":"statements"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/syntax.md","relativePath":"language-reference/syntax.md","relativeDir":"language-reference","filename":"syntax","slug":"syntax","name":"syntax"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/about/why-forge.md","relativePath":"about/why-forge.md","relativeDir":"about","filename":"why-forge","slug":"why-forge","name":"why-forge"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/xio-reference.md","relativePath":"advanced-topics/xio-reference.md","relativeDir":"advanced-topics","filename":"xio-reference","slug":"xio-reference","name":"xio-reference"}],"navTree":{"cc65":{"_files":[{"name":"README","slug":"readme","path":"cc65/README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/cc65/README.md","isIndex":true}]},"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/README.md","isIndex":true},{"name":"index","slug":"index","path":"index.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/index.md","isIndex":false}],"about":{"_files":[{"name":"attributions","slug":"attributions","path":"about/attributions.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/about/attributions.md","isIndex":false},{"name":"why-forge","slug":"why-forge","path":"about/why-forge.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/about/why-forge.md","isIndex":false}]},"advanced-topics":{"_files":[{"name":"cio-reference","slug":"cio-reference","path":"advanced-topics/cio-reference.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/cio-reference.md","isIndex":false},{"name":"display-list-interrupts","slug":"display-list-interrupts","path":"advanced-topics/display-list-interrupts.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/display-list-interrupts.md","isIndex":false},{"name":"fujinet","slug":"fujinet","path":"advanced-topics/fujinet.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/fujinet.md","isIndex":false},{"name":"low-level-programming","slug":"low-level-programming","path":"advanced-topics/low-level-programming.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/low-level-programming.md","isIndex":false},{"name":"note-point","slug":"note-point","path":"advanced-topics/note-point.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/note-point.md","isIndex":false},{"name":"sio-operations","slug":"sio-operations","path":"advanced-topics/sio-operations.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/sio-operations.md","isIndex":false},{"name":"xio-reference","slug":"xio-reference","path":"advanced-topics/xio-reference.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/xio-reference.md","isIndex":false}]},"getting-started":{"_files":[{"name":"compiling","slug":"compiling","path":"getting-started/compiling.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/compiling.md","isIndex":false},{"name":"differences","slug":"differences","path":"getting-started/differences.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/differences.md","isIndex":false},{"name":"first-steps","slug":"first-steps","path":"getting-started/first-steps.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/first-steps.md","isIndex":false},{"name":"introduction","slug":"introduction","path":"getting-started/introduction.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/getting-started/introduction.md","isIndex":false}]},"editor":{"_files":[{"name":"editor-guide","slug":"editor-guide","path":"editor/editor-guide.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/editor/editor-guide.md","isIndex":false},{"name":"editor-optimization","slug":"editor-optimization","path":"editor/editor-optimization.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/editor/editor-optimization.md","isIndex":false}]},"language-reference":{"_files":[{"name":"expressions","slug":"expressions","path":"language-reference/expressions.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/expressions.md","isIndex":false},{"name":"functions","slug":"functions","path":"language-reference/functions.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/functions.md","isIndex":false},{"name":"statements","slug":"statements","path":"language-reference/statements.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/statements.md","isIndex":false},{"name":"syntax","slug":"syntax","path":"language-reference/syntax.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/language-reference/syntax.md","isIndex":false}]},"reference":{"_files":[{"name":"hardware-registers","slug":"hardware-registers","path":"reference/hardware-registers.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/hardware-registers.md","isIndex":false},{"name":"interrupts","slug":"interrupts","path":"reference/interrupts.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/interrupts.md","isIndex":false},{"name":"iocb-structure","slug":"iocb-structure","path":"reference/iocb-structure.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/iocb-structure.md","isIndex":false},{"name":"memory-map","slug":"memory-map","path":"reference/memory-map.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/memory-map.md","isIndex":false},{"name":"memory-usage","slug":"memory-usage","path":"reference/memory-usage.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/memory-usage.md","isIndex":false},{"name":"os-equates","slug":"os-equates","path":"reference/os-equates.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/os-equates.md","isIndex":false},{"name":"r-handler","slug":"r-handler","path":"reference/r-handler.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/reference/r-handler.md","isIndex":false}]}}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/forge/advanced-topics/sio-operations.md","relativePath":"advanced-topics/sio-operations.md","relativeDir":"advanced-topics","filename":"sio-operations","slug":"sio-operations","name":"sio-operations","content":"# SIO Operations\n\nThe Atari Serial Input Output interface is the low-level interface between the Atari 8-bit computers and the serial peripherals, like disk-drives and modems.\n\n## Overview\n\nSIO (Serial Input/Output) is the protocol used by the Atari 8-bit computers to communicate with peripheral devices such as:\n\n- Disk drives\n- Modems\n- Printers\n- Network adapters (FujiNet)\n- Other serial devices\n\n## SIO Statement\n\n### SIO _ddevic_, _dunit_, _dcomnd_, _dstats_, _dbuf_, _dtimlo_, _dbyt_, _daux1_, _daux2_\n\n**Send Any Command Over SIO**\n\nThis function can be used to send any SIO command to any SIO device. For example, this command is used to read or write one sector in a floppy disk, or send special commands to a FujiNet network device.\n\n### Parameters\n\n| Parameter | Description            |\n|-----------|------------------------|\n| DDEVIC    | Device # (e.g. $71)    |\n| DUNIT     | Unit #                 |\n| DCOMND    | Command # ($00-$FF)    |\n| DSTATS    | Read($40) / Write($80) |\n| DBUF      | Target buffer address  |\n| DTIMLO    | Timeout value          |\n| DBYT      | # of bytes in payload  |\n| DAUX1     | First Aux parameter    |\n| DAUX2     | Second Aux parameter   |\n\nThe meanings of each of these is highly dependent on the target device.\n\n### Example: Reading a Disk Sector\n\n```basic\nDIM sector(128) BYTE\n' Read sector 360 from drive 1\nSIO $31, 1, $52, $40, ADR(sector), 64, 128, 360, 0\nIF SERR() \u003c\u003e 1 THEN ? \"Error reading sector\"\n```\n\n### Example: Writing a Disk Sector\n\n```basic\nDIM sector(128) BYTE\n' Write sector 360 to drive 1\nSIO $31, 1, $57, $80, ADR(sector), 64, 128, 360, 0\nIF SERR() \u003c\u003e 1 THEN ? \"Error writing sector\"\n```\n\n## SERR() Function\n\n### SERR() / SE.\n\n**Get Last SIO Error Function**\n\nThis function returns the value in `DSTATS`, which contains the error of the last SIO operation from the device.\n\nIn the context of the FujiNet device, can be used, along with `DVSTAT+4` to determine any error from a network operation.\n\n**Example:**\n```basic\nSIO $71, 1, $FF, $40, ADR(buffer), 64, 0, 0, 0\nIF SERR() \u003c\u003e 1 THEN\n  ? \"SIO error: \"; SERR()\nENDIF\n```\n\n## Common SIO Commands\n\n### Disk Drive Commands\n\n| Command | Value | Description |\n|---------|-------|-------------|\n| Get Status | $53 | Read drive status |\n| Read Sector | $52 | Read a sector |\n| Write Sector | $57 | Write a sector |\n| Write Sector with Verify | $57 | Write and verify |\n\n### Device IDs\n\nCommon device IDs:\n- `$31` - Disk drive (D1:)\n- `$71` - FujiNet device\n- `$50` - Printer\n- `$60` - Modem\n\n## Error Handling\n\nAlways check `SERR()` after an SIO operation:\n\n```basic\nSIO $31, 1, $52, $40, ADR(buffer), 64, 128, 360, 0\nIF SERR() \u003c\u003e 1 THEN\n  ? \"SIO Error: \"; SERR()\n  ' Handle error\nENDIF\n```\n\n## Timeout Values\n\nThe `DTIMLO` parameter specifies the timeout value. Common values:\n- `64` - Standard timeout\n- `128` - Longer timeout for slow devices\n- `32` - Shorter timeout for fast operations\n\n## Buffer Management\n\nThe `DBUF` parameter must point to a valid memory buffer. Use `ADR()` to get the address of arrays:\n\n```basic\nDIM buffer(256) BYTE\nSIO $31, 1, $52, $40, ADR(buffer), 64, 256, 0, 0\n```\n\n## Advanced Usage\n\n### Sector Addressing\n\nFor disk drives, sectors are typically addressed using:\n- `DAUX1` - Sector number (low byte)\n- `DAUX2` - Sector number (high byte) or additional parameter\n\n**Example:**\n```basic\n' Read sector 720 (high byte = 2, low byte = 208)\nSIO $31, 1, $52, $40, ADR(buffer), 64, 128, 208, 2\n```\n\n### Multiple Sector Operations\n\nFor reading/writing multiple sectors, you may need to call SIO multiple times or use device-specific commands.\n\n## FujiNet Integration\n\nSIO is heavily used with FujiNet devices. See [FujiNet](fujinet.md) for more details on network operations.\n\n**Example:**\n```basic\n' FujiNet status command\nSIO $71, 1, $E0, $40, ADR(status), 64, 4, 0, 0\n```\n\n## Best Practices\n\n1. **Always check errors** - Use `SERR()` after every SIO call\n2. **Use appropriate timeouts** - Adjust `DTIMLO` for your device\n3. **Validate buffer sizes** - Ensure `DBYT` matches your buffer\n4. **Handle device-specific behavior** - Different devices interpret parameters differently\n5. **Test thoroughly** - SIO operations can be device-dependent\n\n## Troubleshooting\n\n**SIO fails immediately:**\n- Check device ID is correct\n- Verify device is connected and powered\n- Check unit number is valid\n\n**Timeout errors:**\n- Increase `DTIMLO` value\n- Check device is responding\n- Verify cable connections\n\n**Data corruption:**\n- Verify buffer address is correct\n- Check buffer size matches `DBYT`\n- Ensure buffer is not overwritten during operation\n\n## Related Topics\n\n- [FujiNet](fujinet.md) - Network operations with FujiNet\n- [CIO Reference](cio-reference.md) - Higher-level I/O operations\n- [XIO Reference](xio-reference.md) - Extended I/O commands\n- [Low-Level Programming](low-level-programming.md) - Memory operations\n"},"currentPath":"advanced-topics/sio-operations"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["forge","advanced-topics","sio-operations"]},"buildId":"uKcVMkypfjITnNYGcdC5l","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>