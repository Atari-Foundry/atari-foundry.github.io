<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">ATRCP | atrforge Documentation | Atari Foundry</title><meta name="description" content="atrforge documentation: ATRCP" data-next-head=""/><link rel="preload" href="/images/foundry_logo_50H.png" as="image" data-next-head=""/><link rel="preload" href="/_next/static/chunks/c81f129e50a5fd79.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/c81f129e50a5fd79.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/e8a4a4ae55bc5744.js" defer=""></script><script src="/_next/static/chunks/00dac80f236dcabb.js" defer=""></script><script src="/_next/static/chunks/44f6bc00d9aaf830.js" defer=""></script><script src="/_next/static/chunks/fd7cb30d70431a0f.js" defer=""></script><script src="/_next/static/chunks/turbopack-4769270d21ef6607.js" defer=""></script><script src="/_next/static/chunks/1b081b821847ed60.js" defer=""></script><script src="/_next/static/chunks/76d09b6b03e70f66.js" defer=""></script><script src="/_next/static/chunks/b56fd671c61106a7.js" defer=""></script><script src="/_next/static/chunks/turbopack-d90ce600b0329ce0.js" defer=""></script><script src="/_next/static/qaNXmQ4K6kOqdwj6jY2RG/_ssgManifest.js" defer=""></script><script src="/_next/static/qaNXmQ4K6kOqdwj6jY2RG/_buildManifest.js" defer=""></script></head><body><div id="__next"><div class="crt"><div class="scanlines" aria-hidden="true"></div><div class="noise" aria-hidden="true"></div><nav class="nav"><a class="nav-brand" href="/"><img alt="Atari Foundry icon" width="72" height="50" decoding="async" data-nimg="1" style="color:transparent;height:40px;width:auto" src="/images/foundry_logo_50H.png"/><div><span class="nav-brand-title">Atari Foundry</span><span class="nav-brand-sub">Products for Atari 8-bit</span></div></a><ul class="nav-links"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/vault">Vault</a></li><li class="nav-item has-children"><button type="button" class="nav-link nav-trigger active" aria-haspopup="true" aria-expanded="false">Docs</button><div class="nav-dropdown"><a class="nav-dropdown-link" href="/docs/crucible">Crucible</a><a class="nav-dropdown-link" href="/docs/atrforge">atrforge</a><a class="nav-dropdown-link" href="/docs/forge">FORGE</a></div></li><li class="nav-item"><a class="nav-link" href="/downloads">Downloads</a></li><li class="nav-item"><a class="nav-link" href="/support">Support</a></li></ul></nav><header class="subhero"><p class="label">atrforge<!-- --> Documentation</p><h1 class="page-title">ATRCP</h1></header><main><div class="docs-layout"><aside class="docs-sidebar"><nav class="docs-nav"><div class="docs-nav-section"><h3>Documentation</h3><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/readme">README</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/advanced">ADVANCED</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atr-format">ATR FORMAT</a></li><li><a class="doc-link active" style="padding-left:0rem" href="/docs/atrforge/atrcp">ATRCP</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrforge">ATRFORGE</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/attributions">ATTRIBUTIONS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/boot-files">BOOT FILES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/changelog">CHANGELOG</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/convertatr">CONVERTATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/dos-formats">DOS FORMATS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/examples">EXAMPLES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/file-attributes">FILE ATTRIBUTES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/installation">INSTALLATION</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/lsatr">LSATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/troubleshooting">TROUBLESHOOTING</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/utf8-conversion">UTF8 CONVERSION</a></li></ul></div></nav></aside><div class="docs-content"><div class="docs-body"><div class="doc-markdown"><h1>atrcp - Copy Files to and from ATR Images</h1>
<p><code>atrcp</code> is the file courier of the atrforge toolkit. It copies individual files between ATR images and your host filesystem. Think of it as <code>cp</code>, but for files inside disk images. It&#x27;s actually quite handy when you just need to update one file without recreating the entire disk.</p>
<h2>Overview</h2>
<p>atrcp is the newest addition to the toolkit (well, relatively speaking). It&#x27;s designed for quick file operations - when you just need to copy one file in or out of an ATR image without the overhead of extracting everything or recreating the image.</p>
<p><strong>What it does:</strong></p>
<ul>
<li>Extracts individual files from ATR images</li>
<li>Adds individual files to ATR images</li>
<li>Converts between UTF8 and ATASCII on the fly</li>
<li>Creates automatic backups when modifying ATR files</li>
</ul>
<p><strong>What it doesn&#x27;t do:</strong></p>
<ul>
<li>List directory contents (that&#x27;s <code>lsatr</code>&#x27;s job)</li>
<li>Create new images (that&#x27;s <code>atrforge</code>&#x27;s job)</li>
<li>Convert entire images (that&#x27;s <code>convertatr</code>&#x27;s job)</li>
<li>Make your files faster (we&#x27;re not that good)</li>
</ul>
<h2>Command Syntax</h2>
<pre><pre class="language-bash"><code class="language-bash">atrcp [options] &lt;source&gt; &lt;destination&gt;
</code></pre></pre>
<p>The source and destination can be either regular files or files inside ATR images (using the special <code>image.atr:path</code> syntax).</p>
<h2>ATR Path Format</h2>
<p>Files inside ATR images are specified using a colon separator:</p>
<pre><code>image.atr:path/to/file.ext
</code></pre>
<p>The format is: <code>image_file:path_inside_image</code></p>
<p>Examples:</p>
<ul>
<li><code>disk.atr:MYFILE.COM</code> - File in root directory</li>
<li><code>disk.atr:GAMES/GAME1.COM</code> - File in subdirectory</li>
<li><code>disk.atr:</code> - Just the image (for adding files, uses source filename)</li>
</ul>
<p>If you omit the path after the colon when adding a file, it uses the source filename. Convenient!</p>
<h2>Options</h2>
<h3><code>--to-utf8</code> - Convert ATASCII to UTF8</h3>
<p>Converts the file from ATASCII to UTF8 when extracting from an ATR. This is useful if you want to edit the file in a modern UTF8 editor.</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-utf8 disk.atr:SOURCE.BAS source.bas
</code></pre></pre>
<p>The conversion happens during extraction, so you get a UTF8 file ready for editing.</p>
<h3><code>--to-atascii</code> - Convert UTF8 to ATASCII</h3>
<p>Converts the file from UTF8 to ATASCII when adding to an ATR. This is useful if you&#x27;ve edited a file in UTF8 and need it back in ATASCII format.</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-atascii source.bas disk.atr:SOURCE.BAS
</code></pre></pre>
<p>The conversion happens during the add operation, so your UTF8 file becomes ATASCII in the image.</p>
<h3><code>--7bit</code> - 7-bit Mode</h3>
<p>Uses 7-bit mode for ATASCII→UTF8 conversion. This strips the high bit from characters, effectively converting to 7-bit ASCII.</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt
</code></pre></pre>
<p>Useful when you want pure 7-bit ASCII without the high-bit characters that ATASCII uses.</p>
<p><strong>Note:</strong> This only affects ATASCII→UTF8 conversion. It doesn&#x27;t do anything for UTF8→ATASCII.</p>
<h3><code>-h</code> - Help</h3>
<p>Shows a brief help message. You&#x27;re reading the extended version.</p>
<h3><code>-v</code> - Version</h3>
<p>Shows version information. Version numbers matter.</p>
<h2>Usage Patterns</h2>
<h3>Extract from ATR</h3>
<p>Extract a file from an ATR image to the host filesystem:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp disk.atr:MYFILE.COM myfile.com
</code></pre></pre>
<p>Or to the current directory using the same name:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp disk.atr:MYFILE.COM .
</code></pre></pre>
<h3>Add to ATR</h3>
<p>Add a file from the host filesystem to an ATR image:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp myfile.com disk.atr:MYFILE.COM
</code></pre></pre>
<p>Or let it use the source filename:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp myfile.com disk.atr:
</code></pre></pre>
<p>This adds <code>myfile.com</code> to the root of the disk with the same name.</p>
<h3>Add to Subdirectory</h3>
<p>Add a file to a subdirectory in the ATR:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp myfile.com disk.atr:GAMES/MYFILE.COM
</code></pre></pre>
<p>The directory is created automatically if it doesn&#x27;t exist. How helpful!</p>
<h2>Examples</h2>
<h3>Basic Extract</h3>
<p>Extract a file from an ATR:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp disk.atr:PROGRAM.COM program.com
</code></pre></pre>
<h3>Basic Add</h3>
<p>Add a file to an ATR:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp program.com disk.atr:PROGRAM.COM
</code></pre></pre>
<h3>Extract with UTF8 Conversion</h3>
<p>Extract and convert to UTF8:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-utf8 disk.atr:SOURCE.BAS source.bas
</code></pre></pre>
<h3>Add with ATASCII Conversion</h3>
<p>Add and convert to ATASCII:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-atascii source.bas disk.atr:SOURCE.BAS
</code></pre></pre>
<h3>Extract with 7-bit Mode</h3>
<p>Extract and convert to UTF8 using 7-bit mode:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt
</code></pre></pre>
<h3>Add to Subdirectory</h3>
<p>Add a file to a subdirectory:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp game.com disk.atr:GAMES/GAME.COM
</code></pre></pre>
<h3>Use Source Filename</h3>
<p>Add a file using its original name:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp myfile.com disk.atr:
</code></pre></pre>
<p>This adds <code>myfile.com</code> to the root directory of the disk.</p>
<h3>Update Existing File</h3>
<p>Update an existing file in the ATR:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp updated.com disk.atr:OLD.COM
</code></pre></pre>
<p>This replaces <code>OLD.COM</code> with the contents of <code>updated.com</code>. A backup is created automatically (see below).</p>
<h2>Automatic Backups</h2>
<p>When atrcp modifies an ATR image (by adding or updating files), it automatically creates a backup of the original image. The backup has a <code>.bak</code> extension:</p>
<ul>
<li>Original: <code>disk.atr</code></li>
<li>Backup: <code>disk.atr.bak</code></li>
</ul>
<p>This way, if something goes wrong, you can restore the original. We&#x27;re looking out for you.</p>
<p><strong>Note:</strong> The backup is created before any modifications, so your original is safe.</p>
<h2>UTF8/ATASCII Conversion</h2>
<p>atrcp can convert files between UTF8 and ATASCII during copy operations. This is useful when:</p>
<ul>
<li>You want to edit files in a modern UTF8 editor</li>
<li>You&#x27;ve edited files in UTF8 and need them back in ATASCII</li>
<li>You&#x27;re working with text files that need conversion</li>
</ul>
<p>See <a node="[object Object]" href="/docs/atrforge/utf8-conversion">UTF8 Conversion</a> for more details on how the conversion works.</p>
<h2>Tips and Tricks</h2>
<ol>
<li>
<p><strong>Use <code>:</code> for same-name adds</strong> - When adding a file, you can use <code>disk.atr:</code> to use the source filename automatically.</p>
</li>
<li>
<p><strong>Backups are automatic</strong> - Don&#x27;t worry about backing up - atrcp does it for you.</p>
</li>
<li>
<p><strong>Directories are created automatically</strong> - If you specify a path that doesn&#x27;t exist, it&#x27;s created for you.</p>
</li>
<li>
<p><strong>Conversion is on-the-fly</strong> - UTF8/ATASCII conversion happens during the copy, so you don&#x27;t need a separate step.</p>
</li>
<li>
<p><strong>7-bit mode for compatibility</strong> - Use <code>--7bit</code> if you need pure 7-bit ASCII without high-bit characters.</p>
</li>
</ol>
<h2>Common Mistakes</h2>
<ul>
<li>
<p><strong>Wrong path format</strong> - Remember the colon: <code>image.atr:path</code>, not <code>image.atr/path</code>.</p>
</li>
<li>
<p><strong>Forgetting the path</strong> - When adding, you need to specify where the file goes. Use <code>:</code> if you want the same name.</p>
</li>
<li>
<p><strong>Using both convert options</strong> - You can&#x27;t convert to UTF8 and ATASCII at the same time. Pick one direction.</p>
</li>
<li>
<p><strong>Expecting <code>--7bit</code> to work both ways</strong> - <code>--7bit</code> only affects ATASCII→UTF8 conversion, not the reverse.</p>
</li>
</ul>
<h2>Limitations</h2>
<ol>
<li>
<p><strong>SpartaDOS/BW-DOS only</strong> - atrcp only works with SpartaDOS/BW-DOS format images (the format that <code>atrforge</code> creates).</p>
</li>
<li>
<p><strong>Single file operations</strong> - You can only copy one file at a time. For multiple files, use <code>atrforge -a</code> or extract everything with <code>lsatr</code>.</p>
</li>
<li>
<p><strong>No directory copying</strong> - You can&#x27;t copy entire directories at once. Copy files individually or use other tools.</p>
</li>
<li>
<p><strong>File conversion is per-file</strong> - Each file conversion is independent. You can&#x27;t convert some files and not others in one operation.</p>
</li>
</ol>
<h2>See Also</h2>
<ul>
<li><a node="[object Object]" href="/docs/atrforge/examples">Examples</a> - More usage examples</li>
<li><a node="[object Object]" href="/docs/atrforge/utf8-conversion">UTF8 Conversion</a> - Details on UTF8/ATASCII conversion</li>
<li><a node="[object Object]" href="/docs/atrforge/atrforge">atrforge</a> - For creating images and adding multiple files</li>
<li><a node="[object Object]" href="/docs/atrforge/lsatr">lsatr</a> - For listing and extracting multiple files</li>
</ul>
<hr/>
<p><em>For the complete tool list, see the <a node="[object Object]" href="/docs/atrforge">main documentation index</a>.</em></p></div></div></div></div></main><footer class="footer"><p>© 2026 Atari Foundry · Rick Collette · Software for Atari 8-bit builders.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"product":"atrforge","productDocs":{"product":"atrforge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","relativePath":"ATR_FORMAT.md","relativeDir":"","filename":"ATR_FORMAT","slug":"atr-format","name":"ATR FORMAT"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","relativePath":"ATTRIBUTIONS.md","relativeDir":"","filename":"ATTRIBUTIONS","slug":"attributions","name":"ATTRIBUTIONS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","relativePath":"BOOT_FILES.md","relativeDir":"","filename":"BOOT_FILES","slug":"boot-files","name":"BOOT FILES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","relativePath":"CHANGELOG.md","relativeDir":"","filename":"CHANGELOG","slug":"changelog","name":"CHANGELOG"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","relativePath":"CONVERTATR.md","relativeDir":"","filename":"CONVERTATR","slug":"convertatr","name":"CONVERTATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","relativePath":"DOS_FORMATS.md","relativeDir":"","filename":"DOS_FORMATS","slug":"dos-formats","name":"DOS FORMATS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","relativePath":"EXAMPLES.md","relativeDir":"","filename":"EXAMPLES","slug":"examples","name":"EXAMPLES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","relativePath":"FILE_ATTRIBUTES.md","relativeDir":"","filename":"FILE_ATTRIBUTES","slug":"file-attributes","name":"FILE ATTRIBUTES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","relativePath":"INSTALLATION.md","relativeDir":"","filename":"INSTALLATION","slug":"installation","name":"INSTALLATION"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","relativePath":"TROUBLESHOOTING.md","relativeDir":"","filename":"TROUBLESHOOTING","slug":"troubleshooting","name":"TROUBLESHOOTING"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION"}],"navTree":{"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","isIndex":true},{"name":"ADVANCED","slug":"advanced","path":"ADVANCED.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","isIndex":false},{"name":"ATR FORMAT","slug":"atr-format","path":"ATR_FORMAT.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","isIndex":false},{"name":"ATRCP","slug":"atrcp","path":"ATRCP.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","isIndex":false},{"name":"ATRFORGE","slug":"atrforge","path":"ATRFORGE.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","isIndex":false},{"name":"ATTRIBUTIONS","slug":"attributions","path":"ATTRIBUTIONS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","isIndex":false},{"name":"BOOT FILES","slug":"boot-files","path":"BOOT_FILES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","isIndex":false},{"name":"CHANGELOG","slug":"changelog","path":"CHANGELOG.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","isIndex":false},{"name":"CONVERTATR","slug":"convertatr","path":"CONVERTATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","isIndex":false},{"name":"DOS FORMATS","slug":"dos-formats","path":"DOS_FORMATS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","isIndex":false},{"name":"EXAMPLES","slug":"examples","path":"EXAMPLES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","isIndex":false},{"name":"FILE ATTRIBUTES","slug":"file-attributes","path":"FILE_ATTRIBUTES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","isIndex":false},{"name":"INSTALLATION","slug":"installation","path":"INSTALLATION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","isIndex":false},{"name":"LSATR","slug":"lsatr","path":"LSATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","isIndex":false},{"name":"TROUBLESHOOTING","slug":"troubleshooting","path":"TROUBLESHOOTING.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","isIndex":false},{"name":"UTF8 CONVERSION","slug":"utf8-conversion","path":"UTF8_CONVERSION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","isIndex":false}]}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP","content":"# atrcp - Copy Files to and from ATR Images\n\n`atrcp` is the file courier of the atrforge toolkit. It copies individual files between ATR images and your host filesystem. Think of it as `cp`, but for files inside disk images. It's actually quite handy when you just need to update one file without recreating the entire disk.\n\n## Overview\n\natrcp is the newest addition to the toolkit (well, relatively speaking). It's designed for quick file operations - when you just need to copy one file in or out of an ATR image without the overhead of extracting everything or recreating the image.\n\n**What it does:**\n- Extracts individual files from ATR images\n- Adds individual files to ATR images\n- Converts between UTF8 and ATASCII on the fly\n- Creates automatic backups when modifying ATR files\n\n**What it doesn't do:**\n- List directory contents (that's `lsatr`'s job)\n- Create new images (that's `atrforge`'s job)\n- Convert entire images (that's `convertatr`'s job)\n- Make your files faster (we're not that good)\n\n## Command Syntax\n\n```bash\natrcp [options] \u003csource\u003e \u003cdestination\u003e\n```\n\nThe source and destination can be either regular files or files inside ATR images (using the special `image.atr:path` syntax).\n\n## ATR Path Format\n\nFiles inside ATR images are specified using a colon separator:\n\n```\nimage.atr:path/to/file.ext\n```\n\nThe format is: `image_file:path_inside_image`\n\nExamples:\n- `disk.atr:MYFILE.COM` - File in root directory\n- `disk.atr:GAMES/GAME1.COM` - File in subdirectory\n- `disk.atr:` - Just the image (for adding files, uses source filename)\n\nIf you omit the path after the colon when adding a file, it uses the source filename. Convenient!\n\n## Options\n\n### `--to-utf8` - Convert ATASCII to UTF8\n\nConverts the file from ATASCII to UTF8 when extracting from an ATR. This is useful if you want to edit the file in a modern UTF8 editor.\n\n```bash\natrcp --to-utf8 disk.atr:SOURCE.BAS source.bas\n```\n\nThe conversion happens during extraction, so you get a UTF8 file ready for editing.\n\n### `--to-atascii` - Convert UTF8 to ATASCII\n\nConverts the file from UTF8 to ATASCII when adding to an ATR. This is useful if you've edited a file in UTF8 and need it back in ATASCII format.\n\n```bash\natrcp --to-atascii source.bas disk.atr:SOURCE.BAS\n```\n\nThe conversion happens during the add operation, so your UTF8 file becomes ATASCII in the image.\n\n### `--7bit` - 7-bit Mode\n\nUses 7-bit mode for ATASCII→UTF8 conversion. This strips the high bit from characters, effectively converting to 7-bit ASCII.\n\n```bash\natrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt\n```\n\nUseful when you want pure 7-bit ASCII without the high-bit characters that ATASCII uses.\n\n**Note:** This only affects ATASCII→UTF8 conversion. It doesn't do anything for UTF8→ATASCII.\n\n### `-h` - Help\n\nShows a brief help message. You're reading the extended version.\n\n### `-v` - Version\n\nShows version information. Version numbers matter.\n\n## Usage Patterns\n\n### Extract from ATR\n\nExtract a file from an ATR image to the host filesystem:\n\n```bash\natrcp disk.atr:MYFILE.COM myfile.com\n```\n\nOr to the current directory using the same name:\n\n```bash\natrcp disk.atr:MYFILE.COM .\n```\n\n### Add to ATR\n\nAdd a file from the host filesystem to an ATR image:\n\n```bash\natrcp myfile.com disk.atr:MYFILE.COM\n```\n\nOr let it use the source filename:\n\n```bash\natrcp myfile.com disk.atr:\n```\n\nThis adds `myfile.com` to the root of the disk with the same name.\n\n### Add to Subdirectory\n\nAdd a file to a subdirectory in the ATR:\n\n```bash\natrcp myfile.com disk.atr:GAMES/MYFILE.COM\n```\n\nThe directory is created automatically if it doesn't exist. How helpful!\n\n## Examples\n\n### Basic Extract\n\nExtract a file from an ATR:\n\n```bash\natrcp disk.atr:PROGRAM.COM program.com\n```\n\n### Basic Add\n\nAdd a file to an ATR:\n\n```bash\natrcp program.com disk.atr:PROGRAM.COM\n```\n\n### Extract with UTF8 Conversion\n\nExtract and convert to UTF8:\n\n```bash\natrcp --to-utf8 disk.atr:SOURCE.BAS source.bas\n```\n\n### Add with ATASCII Conversion\n\nAdd and convert to ATASCII:\n\n```bash\natrcp --to-atascii source.bas disk.atr:SOURCE.BAS\n```\n\n### Extract with 7-bit Mode\n\nExtract and convert to UTF8 using 7-bit mode:\n\n```bash\natrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt\n```\n\n### Add to Subdirectory\n\nAdd a file to a subdirectory:\n\n```bash\natrcp game.com disk.atr:GAMES/GAME.COM\n```\n\n### Use Source Filename\n\nAdd a file using its original name:\n\n```bash\natrcp myfile.com disk.atr:\n```\n\nThis adds `myfile.com` to the root directory of the disk.\n\n### Update Existing File\n\nUpdate an existing file in the ATR:\n\n```bash\natrcp updated.com disk.atr:OLD.COM\n```\n\nThis replaces `OLD.COM` with the contents of `updated.com`. A backup is created automatically (see below).\n\n## Automatic Backups\n\nWhen atrcp modifies an ATR image (by adding or updating files), it automatically creates a backup of the original image. The backup has a `.bak` extension:\n\n- Original: `disk.atr`\n- Backup: `disk.atr.bak`\n\nThis way, if something goes wrong, you can restore the original. We're looking out for you.\n\n**Note:** The backup is created before any modifications, so your original is safe.\n\n## UTF8/ATASCII Conversion\n\natrcp can convert files between UTF8 and ATASCII during copy operations. This is useful when:\n\n- You want to edit files in a modern UTF8 editor\n- You've edited files in UTF8 and need them back in ATASCII\n- You're working with text files that need conversion\n\nSee [UTF8 Conversion](UTF8_CONVERSION.md) for more details on how the conversion works.\n\n## Tips and Tricks\n\n1. **Use `:` for same-name adds** - When adding a file, you can use `disk.atr:` to use the source filename automatically.\n\n2. **Backups are automatic** - Don't worry about backing up - atrcp does it for you.\n\n3. **Directories are created automatically** - If you specify a path that doesn't exist, it's created for you.\n\n4. **Conversion is on-the-fly** - UTF8/ATASCII conversion happens during the copy, so you don't need a separate step.\n\n5. **7-bit mode for compatibility** - Use `--7bit` if you need pure 7-bit ASCII without high-bit characters.\n\n## Common Mistakes\n\n- **Wrong path format** - Remember the colon: `image.atr:path`, not `image.atr/path`.\n\n- **Forgetting the path** - When adding, you need to specify where the file goes. Use `:` if you want the same name.\n\n- **Using both convert options** - You can't convert to UTF8 and ATASCII at the same time. Pick one direction.\n\n- **Expecting `--7bit` to work both ways** - `--7bit` only affects ATASCII→UTF8 conversion, not the reverse.\n\n## Limitations\n\n1. **SpartaDOS/BW-DOS only** - atrcp only works with SpartaDOS/BW-DOS format images (the format that `atrforge` creates).\n\n2. **Single file operations** - You can only copy one file at a time. For multiple files, use `atrforge -a` or extract everything with `lsatr`.\n\n3. **No directory copying** - You can't copy entire directories at once. Copy files individually or use other tools.\n\n4. **File conversion is per-file** - Each file conversion is independent. You can't convert some files and not others in one operation.\n\n## See Also\n\n- [Examples](EXAMPLES.md) - More usage examples\n- [UTF8 Conversion](UTF8_CONVERSION.md) - Details on UTF8/ATASCII conversion\n- [atrforge](ATRFORGE.md) - For creating images and adding multiple files\n- [lsatr](LSATR.md) - For listing and extracting multiple files\n\n---\n\n*For the complete tool list, see the [main documentation index](README.md).*\n"},"currentPath":"atrcp"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["atrforge","atrcp"]},"buildId":"qaNXmQ4K6kOqdwj6jY2RG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>