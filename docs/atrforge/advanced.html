<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">ADVANCED | atrforge Documentation | Atari Foundry</title><meta name="description" content="atrforge documentation: ADVANCED" data-next-head=""/><link rel="preload" href="/images/foundry_logo_50H.png" as="image" data-next-head=""/><link rel="preload" href="/_next/static/chunks/c81f129e50a5fd79.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/c81f129e50a5fd79.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/e8a4a4ae55bc5744.js" defer=""></script><script src="/_next/static/chunks/00dac80f236dcabb.js" defer=""></script><script src="/_next/static/chunks/44f6bc00d9aaf830.js" defer=""></script><script src="/_next/static/chunks/fd7cb30d70431a0f.js" defer=""></script><script src="/_next/static/chunks/turbopack-4769270d21ef6607.js" defer=""></script><script src="/_next/static/chunks/1b081b821847ed60.js" defer=""></script><script src="/_next/static/chunks/76d09b6b03e70f66.js" defer=""></script><script src="/_next/static/chunks/b56fd671c61106a7.js" defer=""></script><script src="/_next/static/chunks/turbopack-d90ce600b0329ce0.js" defer=""></script><script src="/_next/static/qaNXmQ4K6kOqdwj6jY2RG/_ssgManifest.js" defer=""></script><script src="/_next/static/qaNXmQ4K6kOqdwj6jY2RG/_buildManifest.js" defer=""></script></head><body><div id="__next"><div class="crt"><div class="scanlines" aria-hidden="true"></div><div class="noise" aria-hidden="true"></div><nav class="nav"><a class="nav-brand" href="/"><img alt="Atari Foundry icon" width="72" height="50" decoding="async" data-nimg="1" style="color:transparent;height:40px;width:auto" src="/images/foundry_logo_50H.png"/><div><span class="nav-brand-title">Atari Foundry</span><span class="nav-brand-sub">Products for Atari 8-bit</span></div></a><ul class="nav-links"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/vault">Vault</a></li><li class="nav-item has-children"><button type="button" class="nav-link nav-trigger active" aria-haspopup="true" aria-expanded="false">Docs</button><div class="nav-dropdown"><a class="nav-dropdown-link" href="/docs/crucible">Crucible</a><a class="nav-dropdown-link" href="/docs/atrforge">atrforge</a><a class="nav-dropdown-link" href="/docs/forge">FORGE</a></div></li><li class="nav-item"><a class="nav-link" href="/downloads">Downloads</a></li><li class="nav-item"><a class="nav-link" href="/support">Support</a></li></ul></nav><header class="subhero"><p class="label">atrforge<!-- --> Documentation</p><h1 class="page-title">ADVANCED</h1></header><main><div class="docs-layout"><aside class="docs-sidebar"><nav class="docs-nav"><div class="docs-nav-section"><h3>Documentation</h3><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/readme">README</a></li><li><a class="doc-link active" style="padding-left:0rem" href="/docs/atrforge/advanced">ADVANCED</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atr-format">ATR FORMAT</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrcp">ATRCP</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrforge">ATRFORGE</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/attributions">ATTRIBUTIONS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/boot-files">BOOT FILES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/changelog">CHANGELOG</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/convertatr">CONVERTATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/dos-formats">DOS FORMATS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/examples">EXAMPLES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/file-attributes">FILE ATTRIBUTES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/installation">INSTALLATION</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/lsatr">LSATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/troubleshooting">TROUBLESHOOTING</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/utf8-conversion">UTF8 CONVERSION</a></li></ul></div></nav></aside><div class="docs-content"><div class="docs-body"><div class="doc-markdown"><h1>Advanced Topics</h1>
<p>You&#x27;ve mastered the basics. Now let&#x27;s get fancy. This section covers advanced techniques, edge cases, and things you probably don&#x27;t need but might find interesting. Or useful. Or both.</p>
<h2>Custom Disk Sizes</h2>
<h3>Exact Sector Count Mode</h3>
<p>The <code>-x</code> option creates images with exact sector counts, using non-standard sizes:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -x custom.atr file1.com file2.bas
</code></pre></pre>
<p>This creates an image with exactly the number of sectors needed, which might not be a standard size. Useful when:</p>
<ul>
<li>You need a specific size</li>
<li>You want to minimize disk space</li>
<li>Standard sizes don&#x27;t fit your needs</li>
</ul>
<p><strong>Note:</strong> These non-standard sizes may not work with all emulators or systems. Test first.</p>
<h3>Minimum Size with Exact Mode</h3>
<p>Combine <code>-s</code> and <code>-x</code> for specific sizes:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -s 360000 -x disk.atr files...
</code></pre></pre>
<p>This creates an image of at least the specified size, using exact sector counts. The size is in bytes, but the actual image will be rounded to sector boundaries.</p>
<h2>Bootloader Relocation Strategies</h2>
<h3>When to Relocate</h3>
<p>Relocate the bootloader when:</p>
<ul>
<li>Your program loads at $600-$700</li>
<li>You get memory conflicts</li>
<li>Boot process fails</li>
<li>You know the load address conflicts</li>
</ul>
<h3>Relocation Options</h3>
<p><strong>Page 6 ($600):</strong> Usually safe, recommended first try</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -B 6 -b disk.atr program.com
</code></pre></pre>
<p><strong>Page 5 ($500):</strong> Possible, but riskier</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -B 5 -b disk.atr program.com
</code></pre></pre>
<p><strong>Page 4 ($400):</strong> Possible, but even riskier</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -B 4 -b disk.atr program.com
</code></pre></pre>
<h3>Testing Relocation</h3>
<p>Always test relocated bootloaders:</p>
<ol>
<li>Create image with relocation</li>
<li>Test in emulator first</li>
<li>Verify program loads correctly</li>
<li>Check for memory conflicts</li>
<li>Test on real hardware if possible</li>
</ol>
<h2>Filesystem Optimization</h2>
<h3>Directory Structure</h3>
<p>Organize files efficiently:</p>
<ul>
<li>Group related files in directories</li>
<li>Keep directory depth reasonable (2-3 levels max)</li>
<li>Use descriptive directory names</li>
<li>Avoid too many small directories</li>
</ul>
<h3>File Placement</h3>
<ul>
<li>Put frequently accessed files in root</li>
<li>Put related files together</li>
<li>Consider access patterns</li>
<li>Balance organization with efficiency</li>
</ul>
<h3>Attribute Usage</h3>
<p>Use attributes strategically:</p>
<ul>
<li>Protect system files (<code>+p</code>)</li>
<li>Hide temporary files (<code>+h</code>)</li>
<li>Mark archived files (<code>+a</code>)</li>
<li>Don&#x27;t overuse attributes</li>
</ul>
<h2>Batch Operations</h2>
<h3>Processing Multiple Images</h3>
<p>Extract from multiple images:</p>
<pre><pre class="language-bash"><code class="language-bash">for img in *.atr; do
    dir=&quot;${img%.atr}&quot;
    mkdir -p &quot;$dir&quot;
    lsatr -X &quot;$dir/&quot; &quot;$img&quot;
done
</code></pre></pre>
<p>Convert multiple images:</p>
<pre><pre class="language-bash"><code class="language-bash">for img in *.atr; do
    convertatr --sector-size 256 &quot;$img&quot; &quot;converted/${img}&quot;
done
</code></pre></pre>
<h3>Creating Multiple Disks</h3>
<p>Create disks for multiple programs:</p>
<pre><pre class="language-bash"><code class="language-bash">for prog in *.com; do
    atrforge -b &quot;${prog%.com}.atr&quot; &quot;$prog&quot;
done
</code></pre></pre>
<h3>Batch File Updates</h3>
<p>Update files in multiple images:</p>
<pre><pre class="language-bash"><code class="language-bash">for img in *.atr; do
    atrcp newfile.com &quot;$img:NEWFILE.COM&quot;
done
</code></pre></pre>
<h2>Scripting Examples</h2>
<h3>Automated Disk Creation</h3>
<p>Create a script for standard disk creation:</p>
<pre><pre class="language-bash"><code class="language-bash">#!/bin/bash
# create_disk.sh - Create a standard disk image

DISK_NAME=&quot;$1&quot;
shift
FILES=&quot;$@&quot;

atrforge &quot;$DISK_NAME&quot; \
    system/ +p system/config.sys \
    &quot;$FILES&quot;
</code></pre></pre>
<p>Usage:</p>
<pre><pre class="language-bash"><code class="language-bash">./create_disk.sh mydisk.atr file1.com file2.bas
</code></pre></pre>
<h3>Disk Maintenance Script</h3>
<p>Script to verify and report on multiple images:</p>
<pre><pre class="language-bash"><code class="language-bash">#!/bin/bash
# check_disks.sh - Verify multiple disk images

for img in *.atr; do
    echo &quot;Checking $img...&quot;
    if lsatr --verify &quot;$img&quot; &gt; /dev/null 2&gt;&amp;1; then
        echo &quot;  OK&quot;
    else
        echo &quot;  FAILED&quot;
    fi
done
</code></pre></pre>
<h3>Backup Script</h3>
<p>Backup script for disk images:</p>
<pre><pre class="language-bash"><code class="language-bash">#!/bin/bash
# backup_disks.sh - Backup disk images with timestamps

BACKUP_DIR=&quot;backups/$(date +%Y%m%d)&quot;
mkdir -p &quot;$BACKUP_DIR&quot;

for img in *.atr; do
    cp &quot;$img&quot; &quot;$BACKUP_DIR/${img%.atr}_$(date +%H%M%S).atr&quot;
done
</code></pre></pre>
<h2>Integration with Other Tools</h2>
<h3>Using with Emulators</h3>
<p>Most Atari emulators support ATR images directly:</p>
<ul>
<li>Altirra</li>
<li>Atari800</li>
<li>Atari++</li>
</ul>
<p>Just point the emulator at your ATR file. It&#x27;s that simple.</p>
<h3>Using with Disk Utilities</h3>
<p>You can use atrforge images with other Atari disk utilities:</p>
<ul>
<li>Extract files, modify on Atari, recreate image</li>
<li>Use Atari tools for filesystem operations</li>
<li>Combine atrforge creation with Atari-side modification</li>
</ul>
<h3>Using with Version Control</h3>
<p>ATR images are binary, but you can:</p>
<ul>
<li>Extract files and version control those</li>
<li>Keep ATR images as release artifacts</li>
<li>Use scripts to recreate images from version-controlled files</li>
</ul>
<h2>Advanced Conversion Techniques</h2>
<h3>Multi-Step Conversions</h3>
<p>Convert in multiple steps:</p>
<pre><pre class="language-bash"><code class="language-bash"># Step 1: Resize
convertatr --resize 1440 small.atr medium.atr

# Step 2: Convert sector size
convertatr --sector-size 256 medium.atr large.atr

# Step 3: Convert files
convertatr --convert-utf8 --resize 2048 large.atr final.atr
</code></pre></pre>
<h3>Selective File Conversion</h3>
<p>Convert specific files only:</p>
<pre><pre class="language-bash"><code class="language-bash"># Extract files
lsatr -X temp/ image.atr

# Convert specific files
atrcp --to-utf8 temp/file1.bas file1_utf8.bas
atrcp --to-utf8 temp/file2.bas file2_utf8.bas

# Recreate image
atrforge --to-atascii newimage.atr file1_utf8.bas file2_utf8.bas temp/file3.com
</code></pre></pre>
<h2>Performance Optimization</h2>
<h3>Large Image Handling</h3>
<p>For very large images (approaching 16MB):</p>
<ul>
<li>Process in smaller chunks if possible</li>
<li>Close other applications</li>
<li>Ensure adequate system memory</li>
<li>Consider splitting across multiple images</li>
</ul>
<h3>Batch Processing</h3>
<p>For processing many images:</p>
<ul>
<li>Process sequentially (not parallel)</li>
<li>Clean up temporary files</li>
<li>Monitor disk space</li>
<li>Use scripts for automation</li>
</ul>
<h2>Edge Cases and Workarounds</h2>
<h3>Non-Standard Formats</h3>
<p>If you encounter non-standard ATR formats:</p>
<ul>
<li>Try <code>lsatr --verify</code> first</li>
<li>Extract files and recreate if needed</li>
<li>Check if format is actually supported</li>
<li>Report unsupported formats</li>
</ul>
<h3>Corrupted Images</h3>
<p>For corrupted images:</p>
<ul>
<li>Try <code>lsatr --verify</code> to assess damage</li>
<li>Attempt extraction (may get some files)</li>
<li>Use <code>convertatr</code> to rebuild structure</li>
<li>Extract and recreate if possible</li>
</ul>
<h3>Very Large Files</h3>
<p>For files approaching disk size limits:</p>
<ul>
<li>Check actual file sizes</li>
<li>Use largest available disk size</li>
<li>Consider file compression (if supported)</li>
<li>Split files if necessary</li>
</ul>
<h2>Advanced Attribute Usage</h2>
<h3>Attribute Combinations</h3>
<p>Strategic attribute combinations:</p>
<ul>
<li>System files: <code>+ph</code> (protected + hidden)</li>
<li>Backups: <code>+pa</code> (protected + archived)</li>
<li>Temporary: <code>+h</code> (hidden only)</li>
<li>Important: <code>+p</code> (protected only)</li>
</ul>
<h3>Attribute Management</h3>
<p>Manage attributes programmatically:</p>
<ul>
<li>Extract files, modify attributes on Atari, recreate</li>
<li>Use scripts to set attributes consistently</li>
<li>Document attribute usage</li>
</ul>
<h2>Custom Workflows</h2>
<h3>Development Workflow</h3>
<p>For development work:</p>
<ol>
<li>Create development disk with tools</li>
<li>Extract source files for editing</li>
<li>Edit in modern editors (with UTF8 conversion)</li>
<li>Add files back to disk</li>
<li>Test in emulator</li>
<li>Repeat</li>
</ol>
<h3>Archival Workflow</h3>
<p>For archiving old disks:</p>
<ol>
<li>Verify images: <code>lsatr --verify</code></li>
<li>Extract all files: <code>lsatr -X archive/</code></li>
<li>Document contents</li>
<li>Create organized structure</li>
<li>Backup everything</li>
</ol>
<h3>Distribution Workflow</h3>
<p>For creating distribution disks:</p>
<ol>
<li>Organize files into directories</li>
<li>Set appropriate attributes</li>
<li>Create bootable image if needed</li>
<li>Test thoroughly</li>
<li>Create final image</li>
<li>Verify before distribution</li>
</ol>
<h2>Tips for Power Users</h2>
<ol>
<li><strong>Automate repetitive tasks</strong> - Write scripts for common operations</li>
<li><strong>Test everything</strong> - Especially boot files and conversions</li>
<li><strong>Keep backups</strong> - Multiple backups, different locations</li>
<li><strong>Document your process</strong> - Write down what works</li>
<li><strong>Version control</strong> - Use git or similar for file management</li>
<li><strong>Verify images</strong> - Always verify before using</li>
<li><strong>Know your limits</strong> - 16MB max, understand constraints</li>
<li><strong>Test in emulators</strong> - Before using on real hardware</li>
<li><strong>Keep it organized</strong> - Good structure saves time later</li>
<li><strong>Read the docs</strong> - Even power users need reference</li>
</ol>
<h2>See Also</h2>
<ul>
<li><a node="[object Object]" href="/docs/atrforge/examples">Examples</a> - More examples that might be useful</li>
<li><a node="[object Object]" href="/docs/atrforge/troubleshooting">Troubleshooting</a> - When things go wrong</li>
<li>Tool-specific documentation for detailed options</li>
<li><a node="[object Object]" href="/docs/atrforge/atr-format">ATR Format</a> - Technical details</li>
</ul>
<hr/>
<p><em>For the complete tool list, see the <a node="[object Object]" href="/docs/atrforge">main documentation index</a>.</em></p></div></div></div></div></main><footer class="footer"><p>© 2026 Atari Foundry · Rick Collette · Software for Atari 8-bit builders.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"product":"atrforge","productDocs":{"product":"atrforge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","relativePath":"ATR_FORMAT.md","relativeDir":"","filename":"ATR_FORMAT","slug":"atr-format","name":"ATR FORMAT"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","relativePath":"ATTRIBUTIONS.md","relativeDir":"","filename":"ATTRIBUTIONS","slug":"attributions","name":"ATTRIBUTIONS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","relativePath":"BOOT_FILES.md","relativeDir":"","filename":"BOOT_FILES","slug":"boot-files","name":"BOOT FILES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","relativePath":"CHANGELOG.md","relativeDir":"","filename":"CHANGELOG","slug":"changelog","name":"CHANGELOG"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","relativePath":"CONVERTATR.md","relativeDir":"","filename":"CONVERTATR","slug":"convertatr","name":"CONVERTATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","relativePath":"DOS_FORMATS.md","relativeDir":"","filename":"DOS_FORMATS","slug":"dos-formats","name":"DOS FORMATS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","relativePath":"EXAMPLES.md","relativeDir":"","filename":"EXAMPLES","slug":"examples","name":"EXAMPLES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","relativePath":"FILE_ATTRIBUTES.md","relativeDir":"","filename":"FILE_ATTRIBUTES","slug":"file-attributes","name":"FILE ATTRIBUTES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","relativePath":"INSTALLATION.md","relativeDir":"","filename":"INSTALLATION","slug":"installation","name":"INSTALLATION"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","relativePath":"TROUBLESHOOTING.md","relativeDir":"","filename":"TROUBLESHOOTING","slug":"troubleshooting","name":"TROUBLESHOOTING"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION"}],"navTree":{"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","isIndex":true},{"name":"ADVANCED","slug":"advanced","path":"ADVANCED.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","isIndex":false},{"name":"ATR FORMAT","slug":"atr-format","path":"ATR_FORMAT.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","isIndex":false},{"name":"ATRCP","slug":"atrcp","path":"ATRCP.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","isIndex":false},{"name":"ATRFORGE","slug":"atrforge","path":"ATRFORGE.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","isIndex":false},{"name":"ATTRIBUTIONS","slug":"attributions","path":"ATTRIBUTIONS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","isIndex":false},{"name":"BOOT FILES","slug":"boot-files","path":"BOOT_FILES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","isIndex":false},{"name":"CHANGELOG","slug":"changelog","path":"CHANGELOG.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","isIndex":false},{"name":"CONVERTATR","slug":"convertatr","path":"CONVERTATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","isIndex":false},{"name":"DOS FORMATS","slug":"dos-formats","path":"DOS_FORMATS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","isIndex":false},{"name":"EXAMPLES","slug":"examples","path":"EXAMPLES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","isIndex":false},{"name":"FILE ATTRIBUTES","slug":"file-attributes","path":"FILE_ATTRIBUTES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","isIndex":false},{"name":"INSTALLATION","slug":"installation","path":"INSTALLATION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","isIndex":false},{"name":"LSATR","slug":"lsatr","path":"LSATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","isIndex":false},{"name":"TROUBLESHOOTING","slug":"troubleshooting","path":"TROUBLESHOOTING.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","isIndex":false},{"name":"UTF8 CONVERSION","slug":"utf8-conversion","path":"UTF8_CONVERSION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","isIndex":false}]}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED","content":"# Advanced Topics\n\nYou've mastered the basics. Now let's get fancy. This section covers advanced techniques, edge cases, and things you probably don't need but might find interesting. Or useful. Or both.\n\n## Custom Disk Sizes\n\n### Exact Sector Count Mode\n\nThe `-x` option creates images with exact sector counts, using non-standard sizes:\n\n```bash\natrforge -x custom.atr file1.com file2.bas\n```\n\nThis creates an image with exactly the number of sectors needed, which might not be a standard size. Useful when:\n- You need a specific size\n- You want to minimize disk space\n- Standard sizes don't fit your needs\n\n**Note:** These non-standard sizes may not work with all emulators or systems. Test first.\n\n### Minimum Size with Exact Mode\n\nCombine `-s` and `-x` for specific sizes:\n\n```bash\natrforge -s 360000 -x disk.atr files...\n```\n\nThis creates an image of at least the specified size, using exact sector counts. The size is in bytes, but the actual image will be rounded to sector boundaries.\n\n## Bootloader Relocation Strategies\n\n### When to Relocate\n\nRelocate the bootloader when:\n- Your program loads at $600-$700\n- You get memory conflicts\n- Boot process fails\n- You know the load address conflicts\n\n### Relocation Options\n\n**Page 6 ($600):** Usually safe, recommended first try\n```bash\natrforge -B 6 -b disk.atr program.com\n```\n\n**Page 5 ($500):** Possible, but riskier\n```bash\natrforge -B 5 -b disk.atr program.com\n```\n\n**Page 4 ($400):** Possible, but even riskier\n```bash\natrforge -B 4 -b disk.atr program.com\n```\n\n### Testing Relocation\n\nAlways test relocated bootloaders:\n1. Create image with relocation\n2. Test in emulator first\n3. Verify program loads correctly\n4. Check for memory conflicts\n5. Test on real hardware if possible\n\n## Filesystem Optimization\n\n### Directory Structure\n\nOrganize files efficiently:\n- Group related files in directories\n- Keep directory depth reasonable (2-3 levels max)\n- Use descriptive directory names\n- Avoid too many small directories\n\n### File Placement\n\n- Put frequently accessed files in root\n- Put related files together\n- Consider access patterns\n- Balance organization with efficiency\n\n### Attribute Usage\n\nUse attributes strategically:\n- Protect system files (`+p`)\n- Hide temporary files (`+h`)\n- Mark archived files (`+a`)\n- Don't overuse attributes\n\n## Batch Operations\n\n### Processing Multiple Images\n\nExtract from multiple images:\n\n```bash\nfor img in *.atr; do\n    dir=\"${img%.atr}\"\n    mkdir -p \"$dir\"\n    lsatr -X \"$dir/\" \"$img\"\ndone\n```\n\nConvert multiple images:\n\n```bash\nfor img in *.atr; do\n    convertatr --sector-size 256 \"$img\" \"converted/${img}\"\ndone\n```\n\n### Creating Multiple Disks\n\nCreate disks for multiple programs:\n\n```bash\nfor prog in *.com; do\n    atrforge -b \"${prog%.com}.atr\" \"$prog\"\ndone\n```\n\n### Batch File Updates\n\nUpdate files in multiple images:\n\n```bash\nfor img in *.atr; do\n    atrcp newfile.com \"$img:NEWFILE.COM\"\ndone\n```\n\n## Scripting Examples\n\n### Automated Disk Creation\n\nCreate a script for standard disk creation:\n\n```bash\n#!/bin/bash\n# create_disk.sh - Create a standard disk image\n\nDISK_NAME=\"$1\"\nshift\nFILES=\"$@\"\n\natrforge \"$DISK_NAME\" \\\n    system/ +p system/config.sys \\\n    \"$FILES\"\n```\n\nUsage:\n```bash\n./create_disk.sh mydisk.atr file1.com file2.bas\n```\n\n### Disk Maintenance Script\n\nScript to verify and report on multiple images:\n\n```bash\n#!/bin/bash\n# check_disks.sh - Verify multiple disk images\n\nfor img in *.atr; do\n    echo \"Checking $img...\"\n    if lsatr --verify \"$img\" \u003e /dev/null 2\u003e\u00261; then\n        echo \"  OK\"\n    else\n        echo \"  FAILED\"\n    fi\ndone\n```\n\n### Backup Script\n\nBackup script for disk images:\n\n```bash\n#!/bin/bash\n# backup_disks.sh - Backup disk images with timestamps\n\nBACKUP_DIR=\"backups/$(date +%Y%m%d)\"\nmkdir -p \"$BACKUP_DIR\"\n\nfor img in *.atr; do\n    cp \"$img\" \"$BACKUP_DIR/${img%.atr}_$(date +%H%M%S).atr\"\ndone\n```\n\n## Integration with Other Tools\n\n### Using with Emulators\n\nMost Atari emulators support ATR images directly:\n- Altirra\n- Atari800\n- Atari++\n\nJust point the emulator at your ATR file. It's that simple.\n\n### Using with Disk Utilities\n\nYou can use atrforge images with other Atari disk utilities:\n- Extract files, modify on Atari, recreate image\n- Use Atari tools for filesystem operations\n- Combine atrforge creation with Atari-side modification\n\n### Using with Version Control\n\nATR images are binary, but you can:\n- Extract files and version control those\n- Keep ATR images as release artifacts\n- Use scripts to recreate images from version-controlled files\n\n## Advanced Conversion Techniques\n\n### Multi-Step Conversions\n\nConvert in multiple steps:\n\n```bash\n# Step 1: Resize\nconvertatr --resize 1440 small.atr medium.atr\n\n# Step 2: Convert sector size\nconvertatr --sector-size 256 medium.atr large.atr\n\n# Step 3: Convert files\nconvertatr --convert-utf8 --resize 2048 large.atr final.atr\n```\n\n### Selective File Conversion\n\nConvert specific files only:\n\n```bash\n# Extract files\nlsatr -X temp/ image.atr\n\n# Convert specific files\natrcp --to-utf8 temp/file1.bas file1_utf8.bas\natrcp --to-utf8 temp/file2.bas file2_utf8.bas\n\n# Recreate image\natrforge --to-atascii newimage.atr file1_utf8.bas file2_utf8.bas temp/file3.com\n```\n\n## Performance Optimization\n\n### Large Image Handling\n\nFor very large images (approaching 16MB):\n- Process in smaller chunks if possible\n- Close other applications\n- Ensure adequate system memory\n- Consider splitting across multiple images\n\n### Batch Processing\n\nFor processing many images:\n- Process sequentially (not parallel)\n- Clean up temporary files\n- Monitor disk space\n- Use scripts for automation\n\n## Edge Cases and Workarounds\n\n### Non-Standard Formats\n\nIf you encounter non-standard ATR formats:\n- Try `lsatr --verify` first\n- Extract files and recreate if needed\n- Check if format is actually supported\n- Report unsupported formats\n\n### Corrupted Images\n\nFor corrupted images:\n- Try `lsatr --verify` to assess damage\n- Attempt extraction (may get some files)\n- Use `convertatr` to rebuild structure\n- Extract and recreate if possible\n\n### Very Large Files\n\nFor files approaching disk size limits:\n- Check actual file sizes\n- Use largest available disk size\n- Consider file compression (if supported)\n- Split files if necessary\n\n## Advanced Attribute Usage\n\n### Attribute Combinations\n\nStrategic attribute combinations:\n- System files: `+ph` (protected + hidden)\n- Backups: `+pa` (protected + archived)\n- Temporary: `+h` (hidden only)\n- Important: `+p` (protected only)\n\n### Attribute Management\n\nManage attributes programmatically:\n- Extract files, modify attributes on Atari, recreate\n- Use scripts to set attributes consistently\n- Document attribute usage\n\n## Custom Workflows\n\n### Development Workflow\n\nFor development work:\n1. Create development disk with tools\n2. Extract source files for editing\n3. Edit in modern editors (with UTF8 conversion)\n4. Add files back to disk\n5. Test in emulator\n6. Repeat\n\n### Archival Workflow\n\nFor archiving old disks:\n1. Verify images: `lsatr --verify`\n2. Extract all files: `lsatr -X archive/`\n3. Document contents\n4. Create organized structure\n5. Backup everything\n\n### Distribution Workflow\n\nFor creating distribution disks:\n1. Organize files into directories\n2. Set appropriate attributes\n3. Create bootable image if needed\n4. Test thoroughly\n5. Create final image\n6. Verify before distribution\n\n## Tips for Power Users\n\n1. **Automate repetitive tasks** - Write scripts for common operations\n2. **Test everything** - Especially boot files and conversions\n3. **Keep backups** - Multiple backups, different locations\n4. **Document your process** - Write down what works\n5. **Version control** - Use git or similar for file management\n6. **Verify images** - Always verify before using\n7. **Know your limits** - 16MB max, understand constraints\n8. **Test in emulators** - Before using on real hardware\n9. **Keep it organized** - Good structure saves time later\n10. **Read the docs** - Even power users need reference\n\n## See Also\n\n- [Examples](EXAMPLES.md) - More examples that might be useful\n- [Troubleshooting](TROUBLESHOOTING.md) - When things go wrong\n- Tool-specific documentation for detailed options\n- [ATR Format](ATR_FORMAT.md) - Technical details\n\n---\n\n*For the complete tool list, see the [main documentation index](README.md).*\n"},"currentPath":"advanced"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["atrforge","advanced"]},"buildId":"qaNXmQ4K6kOqdwj6jY2RG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>