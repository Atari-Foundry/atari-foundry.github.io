<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">ATRFORGE | atrforge Documentation | Atari Foundry</title><meta name="description" content="atrforge documentation: ATRFORGE" data-next-head=""/><link rel="preload" href="/images/foundry_logo_50H.png" as="image" data-next-head=""/><link rel="preload" href="/_next/static/chunks/c81f129e50a5fd79.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/c81f129e50a5fd79.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/e8a4a4ae55bc5744.js" defer=""></script><script src="/_next/static/chunks/00dac80f236dcabb.js" defer=""></script><script src="/_next/static/chunks/44f6bc00d9aaf830.js" defer=""></script><script src="/_next/static/chunks/fd7cb30d70431a0f.js" defer=""></script><script src="/_next/static/chunks/turbopack-4769270d21ef6607.js" defer=""></script><script src="/_next/static/chunks/1b081b821847ed60.js" defer=""></script><script src="/_next/static/chunks/76d09b6b03e70f66.js" defer=""></script><script src="/_next/static/chunks/b56fd671c61106a7.js" defer=""></script><script src="/_next/static/chunks/turbopack-d90ce600b0329ce0.js" defer=""></script><script src="/_next/static/CnF04P5ob_bUVxETgw2P_/_ssgManifest.js" defer=""></script><script src="/_next/static/CnF04P5ob_bUVxETgw2P_/_buildManifest.js" defer=""></script></head><body><div id="__next"><div class="crt"><div class="scanlines" aria-hidden="true"></div><div class="noise" aria-hidden="true"></div><nav class="nav"><a class="nav-brand" href="/"><img alt="Atari Foundry icon" width="72" height="50" decoding="async" data-nimg="1" style="color:transparent;height:40px;width:auto" src="/images/foundry_logo_50H.png"/><div><span class="nav-brand-title">Atari Foundry</span><span class="nav-brand-sub">Products for Atari 8-bit</span></div></a><ul class="nav-links"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/vault">Vault</a></li><li class="nav-item has-children"><button type="button" class="nav-link nav-trigger active" aria-haspopup="true" aria-expanded="false">Docs</button><div class="nav-dropdown"><a class="nav-dropdown-link" href="/docs/crucible">Crucible</a><a class="nav-dropdown-link" href="/docs/atrforge">atrforge</a><a class="nav-dropdown-link" href="/docs/forge">FORGE</a></div></li><li class="nav-item"><a class="nav-link" href="/downloads">Downloads</a></li><li class="nav-item"><a class="nav-link" href="/support">Support</a></li></ul></nav><header class="subhero"><p class="label">atrforge<!-- --> Documentation</p><h1 class="page-title">ATRFORGE</h1></header><main><div class="docs-layout"><aside class="docs-sidebar"><nav class="docs-nav"><div class="docs-nav-section"><h3>Documentation</h3><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/readme">README</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/advanced">ADVANCED</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atr-format">ATR FORMAT</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrcp">ATRCP</a></li><li><a class="doc-link active" style="padding-left:0rem" href="/docs/atrforge/atrforge">ATRFORGE</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/attributions">ATTRIBUTIONS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/boot-files">BOOT FILES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/changelog">CHANGELOG</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/convertatr">CONVERTATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/dos-formats">DOS FORMATS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/examples">EXAMPLES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/file-attributes">FILE ATTRIBUTES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/installation">INSTALLATION</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/lsatr">LSATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/troubleshooting">TROUBLESHOOTING</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/utf8-conversion">UTF8 CONVERSION</a></li></ul></div></nav></aside><div class="docs-content"><div class="docs-body"><div class="doc-markdown"><h1>atrforge - Create ATR Disk Images</h1>
<p><code>atrforge</code> is the tool that started it all. It creates Atari ATR disk images from files you give it. Think of it as a disk image factory that takes your files and packages them into a nice, tidy ATR image that your Atari (or emulator) can actually use.</p>
<h2>Overview</h2>
<p>atrforge creates ATR disk images in SpartaDOS/BW-DOS format. You provide a list of files, and it figures out the best disk size to fit them all. It&#x27;s smarter than it looks.</p>
<p><strong>What it does:</strong></p>
<ul>
<li>Creates new ATR images from files</li>
<li>Adds files to existing ATR images</li>
<li>Creates bootable disk images</li>
<li>Handles directory structures</li>
<li>Sets file attributes (protected, hidden, archived)</li>
<li>Converts UTF8 files to ATASCII on the fly</li>
</ul>
<p><strong>What it doesn&#x27;t do:</strong></p>
<ul>
<li>Read existing disk images (that&#x27;s <code>lsatr</code>&#x27;s job)</li>
<li>Convert between formats (that&#x27;s <code>convertatr</code>&#x27;s job)</li>
<li>Make coffee (we&#x27;re working on it)</li>
</ul>
<h2>Command Syntax</h2>
<pre><pre class="language-bash"><code class="language-bash">atrforge [options] &lt;output_atr&gt; [+attributes] &lt;file_1&gt; [... &lt;file_n&gt;]
</code></pre></pre>
<p>The basic pattern is: options, output file, then your files. Simple enough, right?</p>
<h2>Options</h2>
<h3><code>-a</code> - Add to Existing Image</h3>
<p>Adds files to an existing ATR image instead of creating a new one. The existing image must be in SpartaDOS/BW-DOS format (because that&#x27;s what we create, and we&#x27;re not mind readers).</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -a existing.atr newfile.com
</code></pre></pre>
<p><strong>Note:</strong> This creates a backup of the original file (with <code>.bak</code> extension) before modifying it. Because we&#x27;re nice like that.</p>
<h3><code>-b</code> - Boot File</h3>
<p>Marks the next file as the boot file. This file will be loaded when the Atari boots from the disk. The file must be in standard Atari binary format (<code>.com</code>, <code>.xex</code>, etc.).</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -b game.atr mygame.com
</code></pre></pre>
<p><strong>Bootloader requirements:</strong></p>
<ul>
<li>128-byte sectors: Bootloader needs 613 bytes, from $700 to $965</li>
<li>256-byte sectors: Bootloader needs 848 bytes, from $700 to $A50</li>
</ul>
<p>Both can be relocated with the <code>-B</code> option if you need to avoid memory conflicts.</p>
<h3><code>-x</code> - Exact Sector Count</h3>
<p>Creates an image with the exact sector count needed for all content. This uses non-standard sector counts and will use 128-byte sectors if the image is smaller than about 8MB.</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -x custom.atr file1.com file2.bas
</code></pre></pre>
<p>Useful when you need a specific size or want to minimize disk space usage. Most of the time, you don&#x27;t need this.</p>
<h3><code>-s &lt;size&gt;</code> - Minimum Size</h3>
<p>Specifies the minimum size of the output image in bytes. The image will be at least this size (or larger, depending on the standard sizes).</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -s 360000 disk.atr file.com
</code></pre></pre>
<p>This is handy when you want extra free space on the disk. Combine with <code>-x</code> to create images of specific sizes (up to the sector size limit).</p>
<h3><code>-B &lt;page&gt;</code> - Relocate Bootloader</h3>
<p>Relocates the bootloader to a different page address. The page is the high byte of the address (so page 7 = $0700, page 6 = $0600, etc.).</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -B 6 -b game.atr mygame.com
</code></pre></pre>
<p><strong>Why would you need this?</strong> Some games or programs load at low addresses that conflict with the standard bootloader location (page 7, $700). Relocating to page 6, 5, or even 4 can solve this. Just make sure you know what you&#x27;re doing - wrong addresses can cause your boot file to not work.</p>
<p><strong>Safe values:</strong> Page 6 is usually safe. Pages 4-5 are possible but riskier.</p>
<h3><code>--to-atascii</code> - Convert UTF8 to ATASCII</h3>
<p>Converts files from UTF8 to ATASCII when adding them to the ATR. This is useful when you&#x27;ve edited files in a modern UTF8 editor and need them in ATASCII format for the Atari.</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge --to-atascii disk.atr source.bas
</code></pre></pre>
<p>See <a node="[object Object]" href="/docs/atrforge/utf8-conversion">UTF8 Conversion</a> for more details on this process.</p>
<h3><code>-h</code> - Help</h3>
<p>Shows a brief help message. You&#x27;re reading the extended version right now.</p>
<h3><code>-v</code> - Version</h3>
<p>Shows version information. Because sometimes you need to know what version you&#x27;re running.</p>
<h2>File Attributes</h2>
<p>You can set attributes on individual files by prefixing the filename with attribute flags:</p>
<h3><code>+p</code> - Protected (Read-Only)</h3>
<p>Marks the file as protected (read-only). The Atari won&#x27;t let you delete or modify it.</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge disk.atr +p important.com
</code></pre></pre>
<h3><code>+h</code> - Hidden</h3>
<p>Hides the file from directory listings. This only works in SpartaDOS-X, so don&#x27;t expect it to work everywhere.</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge disk.atr +h secret.com
</code></pre></pre>
<h3><code>+a</code> - Archived</h3>
<p>Marks the file as archived. This is a SpartaDOS-X feature that indicates the file has been backed up.</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge disk.atr +a backup.com
</code></pre></pre>
<h3>Combining Attributes</h3>
<p>You can combine attributes:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge disk.atr +ph hidden_protected.com
</code></pre></pre>
<p>This makes the file both hidden and protected. Because sometimes you really don&#x27;t want people messing with your files.</p>
<h2>Directory Structure</h2>
<p>To place files in subdirectories, simply list the directory before the files that go in it:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge disk.atr games/ game1.com game2.com utils/ util1.com
</code></pre></pre>
<p>This creates:</p>
<ul>
<li><code>games/game1.com</code></li>
<li><code>games/game2.com</code></li>
<li><code>utils/util1.com</code></li>
</ul>
<p>Directories are created automatically. You don&#x27;t need to create them first. We&#x27;re helpful like that.</p>
<h2>Disk Size Formats</h2>
<p>atrforge automatically chooses the smallest standard disk size that fits all your files. The available sizes are:</p>
<table><thead><tr><th>Sector Count</th><th>Sector Size</th><th>Total Size</th><th>Name</th></tr></thead><tbody><tr><td>720</td><td>128</td><td>90k</td><td>SD (Single Density)</td></tr><tr><td>1040</td><td>128</td><td>130k</td><td>ED (Enhanced Density)</td></tr><tr><td>720</td><td>256</td><td>180k</td><td>DD (Double Density)</td></tr><tr><td>1440</td><td>256</td><td>360k</td><td>DSDD (Double-Sided Double Density)</td></tr><tr><td>2048</td><td>256</td><td>512k</td><td>Hard disk</td></tr><tr><td>4096</td><td>256</td><td>1M</td><td>Hard disk</td></tr><tr><td>8192</td><td>256</td><td>2M</td><td>Hard disk</td></tr><tr><td>16384</td><td>256</td><td>4M</td><td>Hard disk</td></tr><tr><td>32768</td><td>256</td><td>8M</td><td>Hard disk</td></tr><tr><td>65535</td><td>256</td><td>16M</td><td>Biggest possible image</td></tr></tbody></table>
<p>If you use the <code>-x</code> option, it will use non-standard sizes and 128-byte sectors for smaller images.</p>
<h2>Examples</h2>
<h3>Basic Image Creation</h3>
<p>Create a simple disk image with a few files:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge mydisk.atr file1.com file2.bas file3.txt
</code></pre></pre>
<h3>Bootable Disk</h3>
<p>Create a bootable disk with a game:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -b game.atr mygame.com
</code></pre></pre>
<h3>Bootable Disk with DOS</h3>
<p>Create a bootable disk with DOS and a startup file:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge bwdos.atr dos/ -b +ph dos/xbw130.dos +p startup.bat
</code></pre></pre>
<p>This creates:</p>
<ul>
<li>A bootable disk (<code>-b</code>)</li>
<li>DOS file is hidden and protected (<code>+ph</code>)</li>
<li>Startup file is protected (<code>+p</code>)</li>
<li>DOS is in a subdirectory (<code>dos/</code>)</li>
</ul>
<h3>Adding Files to Existing Image</h3>
<p>Add more files to an existing disk:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -a existing.atr newfile1.com newfile2.bas
</code></pre></pre>
<h3>Directory Structure</h3>
<p>Create a disk with organized directories:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge organized.atr \
    games/ game1.com game2.com \
    utils/ util1.com util2.com \
    docs/ readme.txt manual.txt
</code></pre></pre>
<h3>Protected System Files</h3>
<p>Create a disk with protected system files:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge system.atr +p config.sys +p autoexec.bat normal.com
</code></pre></pre>
<h3>UTF8 Conversion</h3>
<p>Convert UTF8 files to ATASCII when creating the disk:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge --to-atascii disk.atr edited.bas converted.txt
</code></pre></pre>
<h3>Custom Size with Extra Space</h3>
<p>Create a disk with a minimum size for future files:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge -s 360000 disk.atr current_files.com
</code></pre></pre>
<p>This creates at least a 360k disk, even if the files would fit in a smaller one.</p>
<h2>Tips and Tricks</h2>
<ol>
<li>
<p><strong>Order matters for boot files</strong>: The <code>-b</code> option applies to the <em>next</em> file, so put it right before the boot file.</p>
</li>
<li>
<p><strong>Attributes apply to one file</strong>: Each <code>+attribute</code> prefix only affects the file immediately following it.</p>
</li>
<li>
<p><strong>Directories are implicit</strong>: Just list the directory name, then the files. No need to create directories first.</p>
</li>
<li>
<p><strong>Backups are automatic</strong>: When using <code>-a</code>, a <code>.bak</code> file is created automatically. Don&#x27;t worry, we&#x27;ve got your back.</p>
</li>
<li>
<p><strong>Size calculation is smart</strong>: atrforge picks the smallest size that fits. If you need more space, use <code>-s</code>.</p>
</li>
</ol>
<h2>Common Mistakes</h2>
<ul>
<li><strong>Forgetting <code>-b</code> before the boot file</strong>: The boot file won&#x27;t be bootable if you forget the flag.</li>
<li><strong>Wrong file format for boot</strong>: Boot files must be in Atari binary format. Text files won&#x27;t work.</li>
<li><strong>Using <code>-a</code> on non-SpartaDOS images</strong>: Only works with SpartaDOS/BW-DOS format images.</li>
<li><strong>Attribute syntax</strong>: It&#x27;s <code>+p</code>, not <code>-p</code> or <code>--protected</code>. The <code>+</code> is important.</li>
</ul>
<h2>See Also</h2>
<ul>
<li><a node="[object Object]" href="/docs/atrforge/examples">Examples</a> - More usage examples</li>
<li><a node="[object Object]" href="/docs/atrforge/boot-files">Boot Files</a> - Detailed boot file information</li>
<li><a node="[object Object]" href="/docs/atrforge/file-attributes">File Attributes</a> - More on file attributes</li>
<li><a node="[object Object]" href="/docs/atrforge/utf8-conversion">UTF8 Conversion</a> - UTF8/ATASCII conversion details</li>
<li><a node="[object Object]" href="/docs/atrforge/atr-format">ATR Format</a> - Technical details about ATR format</li>
</ul>
<hr/>
<p><em>For the complete tool list, see the <a node="[object Object]" href="/docs/atrforge">main documentation index</a>.</em></p></div></div></div></div></main><footer class="footer"><p>© 2026 Atari Foundry · Rick Collette · Software for Atari 8-bit builders.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"product":"atrforge","productDocs":{"product":"atrforge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","relativePath":"ATR_FORMAT.md","relativeDir":"","filename":"ATR_FORMAT","slug":"atr-format","name":"ATR FORMAT"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","relativePath":"ATTRIBUTIONS.md","relativeDir":"","filename":"ATTRIBUTIONS","slug":"attributions","name":"ATTRIBUTIONS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","relativePath":"BOOT_FILES.md","relativeDir":"","filename":"BOOT_FILES","slug":"boot-files","name":"BOOT FILES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","relativePath":"CHANGELOG.md","relativeDir":"","filename":"CHANGELOG","slug":"changelog","name":"CHANGELOG"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","relativePath":"CONVERTATR.md","relativeDir":"","filename":"CONVERTATR","slug":"convertatr","name":"CONVERTATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","relativePath":"DOS_FORMATS.md","relativeDir":"","filename":"DOS_FORMATS","slug":"dos-formats","name":"DOS FORMATS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","relativePath":"EXAMPLES.md","relativeDir":"","filename":"EXAMPLES","slug":"examples","name":"EXAMPLES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","relativePath":"FILE_ATTRIBUTES.md","relativeDir":"","filename":"FILE_ATTRIBUTES","slug":"file-attributes","name":"FILE ATTRIBUTES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","relativePath":"INSTALLATION.md","relativeDir":"","filename":"INSTALLATION","slug":"installation","name":"INSTALLATION"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","relativePath":"TROUBLESHOOTING.md","relativeDir":"","filename":"TROUBLESHOOTING","slug":"troubleshooting","name":"TROUBLESHOOTING"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION"}],"navTree":{"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","isIndex":true},{"name":"ADVANCED","slug":"advanced","path":"ADVANCED.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","isIndex":false},{"name":"ATR FORMAT","slug":"atr-format","path":"ATR_FORMAT.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","isIndex":false},{"name":"ATRCP","slug":"atrcp","path":"ATRCP.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","isIndex":false},{"name":"ATRFORGE","slug":"atrforge","path":"ATRFORGE.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","isIndex":false},{"name":"ATTRIBUTIONS","slug":"attributions","path":"ATTRIBUTIONS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","isIndex":false},{"name":"BOOT FILES","slug":"boot-files","path":"BOOT_FILES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","isIndex":false},{"name":"CHANGELOG","slug":"changelog","path":"CHANGELOG.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","isIndex":false},{"name":"CONVERTATR","slug":"convertatr","path":"CONVERTATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","isIndex":false},{"name":"DOS FORMATS","slug":"dos-formats","path":"DOS_FORMATS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","isIndex":false},{"name":"EXAMPLES","slug":"examples","path":"EXAMPLES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","isIndex":false},{"name":"FILE ATTRIBUTES","slug":"file-attributes","path":"FILE_ATTRIBUTES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","isIndex":false},{"name":"INSTALLATION","slug":"installation","path":"INSTALLATION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","isIndex":false},{"name":"LSATR","slug":"lsatr","path":"LSATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","isIndex":false},{"name":"TROUBLESHOOTING","slug":"troubleshooting","path":"TROUBLESHOOTING.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","isIndex":false},{"name":"UTF8 CONVERSION","slug":"utf8-conversion","path":"UTF8_CONVERSION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","isIndex":false}]}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE","content":"# atrforge - Create ATR Disk Images\n\n`atrforge` is the tool that started it all. It creates Atari ATR disk images from files you give it. Think of it as a disk image factory that takes your files and packages them into a nice, tidy ATR image that your Atari (or emulator) can actually use.\n\n## Overview\n\natrforge creates ATR disk images in SpartaDOS/BW-DOS format. You provide a list of files, and it figures out the best disk size to fit them all. It's smarter than it looks.\n\n**What it does:**\n- Creates new ATR images from files\n- Adds files to existing ATR images\n- Creates bootable disk images\n- Handles directory structures\n- Sets file attributes (protected, hidden, archived)\n- Converts UTF8 files to ATASCII on the fly\n\n**What it doesn't do:**\n- Read existing disk images (that's `lsatr`'s job)\n- Convert between formats (that's `convertatr`'s job)\n- Make coffee (we're working on it)\n\n## Command Syntax\n\n```bash\natrforge [options] \u003coutput_atr\u003e [+attributes] \u003cfile_1\u003e [... \u003cfile_n\u003e]\n```\n\nThe basic pattern is: options, output file, then your files. Simple enough, right?\n\n## Options\n\n### `-a` - Add to Existing Image\n\nAdds files to an existing ATR image instead of creating a new one. The existing image must be in SpartaDOS/BW-DOS format (because that's what we create, and we're not mind readers).\n\n```bash\natrforge -a existing.atr newfile.com\n```\n\n**Note:** This creates a backup of the original file (with `.bak` extension) before modifying it. Because we're nice like that.\n\n### `-b` - Boot File\n\nMarks the next file as the boot file. This file will be loaded when the Atari boots from the disk. The file must be in standard Atari binary format (`.com`, `.xex`, etc.).\n\n```bash\natrforge -b game.atr mygame.com\n```\n\n**Bootloader requirements:**\n- 128-byte sectors: Bootloader needs 613 bytes, from $700 to $965\n- 256-byte sectors: Bootloader needs 848 bytes, from $700 to $A50\n\nBoth can be relocated with the `-B` option if you need to avoid memory conflicts.\n\n### `-x` - Exact Sector Count\n\nCreates an image with the exact sector count needed for all content. This uses non-standard sector counts and will use 128-byte sectors if the image is smaller than about 8MB.\n\n```bash\natrforge -x custom.atr file1.com file2.bas\n```\n\nUseful when you need a specific size or want to minimize disk space usage. Most of the time, you don't need this.\n\n### `-s \u003csize\u003e` - Minimum Size\n\nSpecifies the minimum size of the output image in bytes. The image will be at least this size (or larger, depending on the standard sizes).\n\n```bash\natrforge -s 360000 disk.atr file.com\n```\n\nThis is handy when you want extra free space on the disk. Combine with `-x` to create images of specific sizes (up to the sector size limit).\n\n### `-B \u003cpage\u003e` - Relocate Bootloader\n\nRelocates the bootloader to a different page address. The page is the high byte of the address (so page 7 = $0700, page 6 = $0600, etc.).\n\n```bash\natrforge -B 6 -b game.atr mygame.com\n```\n\n**Why would you need this?** Some games or programs load at low addresses that conflict with the standard bootloader location (page 7, $700). Relocating to page 6, 5, or even 4 can solve this. Just make sure you know what you're doing - wrong addresses can cause your boot file to not work.\n\n**Safe values:** Page 6 is usually safe. Pages 4-5 are possible but riskier.\n\n### `--to-atascii` - Convert UTF8 to ATASCII\n\nConverts files from UTF8 to ATASCII when adding them to the ATR. This is useful when you've edited files in a modern UTF8 editor and need them in ATASCII format for the Atari.\n\n```bash\natrforge --to-atascii disk.atr source.bas\n```\n\nSee [UTF8 Conversion](UTF8_CONVERSION.md) for more details on this process.\n\n### `-h` - Help\n\nShows a brief help message. You're reading the extended version right now.\n\n### `-v` - Version\n\nShows version information. Because sometimes you need to know what version you're running.\n\n## File Attributes\n\nYou can set attributes on individual files by prefixing the filename with attribute flags:\n\n### `+p` - Protected (Read-Only)\n\nMarks the file as protected (read-only). The Atari won't let you delete or modify it.\n\n```bash\natrforge disk.atr +p important.com\n```\n\n### `+h` - Hidden\n\nHides the file from directory listings. This only works in SpartaDOS-X, so don't expect it to work everywhere.\n\n```bash\natrforge disk.atr +h secret.com\n```\n\n### `+a` - Archived\n\nMarks the file as archived. This is a SpartaDOS-X feature that indicates the file has been backed up.\n\n```bash\natrforge disk.atr +a backup.com\n```\n\n### Combining Attributes\n\nYou can combine attributes:\n\n```bash\natrforge disk.atr +ph hidden_protected.com\n```\n\nThis makes the file both hidden and protected. Because sometimes you really don't want people messing with your files.\n\n## Directory Structure\n\nTo place files in subdirectories, simply list the directory before the files that go in it:\n\n```bash\natrforge disk.atr games/ game1.com game2.com utils/ util1.com\n```\n\nThis creates:\n- `games/game1.com`\n- `games/game2.com`\n- `utils/util1.com`\n\nDirectories are created automatically. You don't need to create them first. We're helpful like that.\n\n## Disk Size Formats\n\natrforge automatically chooses the smallest standard disk size that fits all your files. The available sizes are:\n\n| Sector Count | Sector Size | Total Size | Name |\n|-------------|-------------|------------|------|\n| 720 | 128 | 90k | SD (Single Density) |\n| 1040 | 128 | 130k | ED (Enhanced Density) |\n| 720 | 256 | 180k | DD (Double Density) |\n| 1440 | 256 | 360k | DSDD (Double-Sided Double Density) |\n| 2048 | 256 | 512k | Hard disk |\n| 4096 | 256 | 1M | Hard disk |\n| 8192 | 256 | 2M | Hard disk |\n| 16384 | 256 | 4M | Hard disk |\n| 32768 | 256 | 8M | Hard disk |\n| 65535 | 256 | 16M | Biggest possible image |\n\nIf you use the `-x` option, it will use non-standard sizes and 128-byte sectors for smaller images.\n\n## Examples\n\n### Basic Image Creation\n\nCreate a simple disk image with a few files:\n\n```bash\natrforge mydisk.atr file1.com file2.bas file3.txt\n```\n\n### Bootable Disk\n\nCreate a bootable disk with a game:\n\n```bash\natrforge -b game.atr mygame.com\n```\n\n### Bootable Disk with DOS\n\nCreate a bootable disk with DOS and a startup file:\n\n```bash\natrforge bwdos.atr dos/ -b +ph dos/xbw130.dos +p startup.bat\n```\n\nThis creates:\n- A bootable disk (`-b`)\n- DOS file is hidden and protected (`+ph`)\n- Startup file is protected (`+p`)\n- DOS is in a subdirectory (`dos/`)\n\n### Adding Files to Existing Image\n\nAdd more files to an existing disk:\n\n```bash\natrforge -a existing.atr newfile1.com newfile2.bas\n```\n\n### Directory Structure\n\nCreate a disk with organized directories:\n\n```bash\natrforge organized.atr \\\n    games/ game1.com game2.com \\\n    utils/ util1.com util2.com \\\n    docs/ readme.txt manual.txt\n```\n\n### Protected System Files\n\nCreate a disk with protected system files:\n\n```bash\natrforge system.atr +p config.sys +p autoexec.bat normal.com\n```\n\n### UTF8 Conversion\n\nConvert UTF8 files to ATASCII when creating the disk:\n\n```bash\natrforge --to-atascii disk.atr edited.bas converted.txt\n```\n\n### Custom Size with Extra Space\n\nCreate a disk with a minimum size for future files:\n\n```bash\natrforge -s 360000 disk.atr current_files.com\n```\n\nThis creates at least a 360k disk, even if the files would fit in a smaller one.\n\n## Tips and Tricks\n\n1. **Order matters for boot files**: The `-b` option applies to the *next* file, so put it right before the boot file.\n\n2. **Attributes apply to one file**: Each `+attribute` prefix only affects the file immediately following it.\n\n3. **Directories are implicit**: Just list the directory name, then the files. No need to create directories first.\n\n4. **Backups are automatic**: When using `-a`, a `.bak` file is created automatically. Don't worry, we've got your back.\n\n5. **Size calculation is smart**: atrforge picks the smallest size that fits. If you need more space, use `-s`.\n\n## Common Mistakes\n\n- **Forgetting `-b` before the boot file**: The boot file won't be bootable if you forget the flag.\n- **Wrong file format for boot**: Boot files must be in Atari binary format. Text files won't work.\n- **Using `-a` on non-SpartaDOS images**: Only works with SpartaDOS/BW-DOS format images.\n- **Attribute syntax**: It's `+p`, not `-p` or `--protected`. The `+` is important.\n\n## See Also\n\n- [Examples](EXAMPLES.md) - More usage examples\n- [Boot Files](BOOT_FILES.md) - Detailed boot file information\n- [File Attributes](FILE_ATTRIBUTES.md) - More on file attributes\n- [UTF8 Conversion](UTF8_CONVERSION.md) - UTF8/ATASCII conversion details\n- [ATR Format](ATR_FORMAT.md) - Technical details about ATR format\n\n---\n\n*For the complete tool list, see the [main documentation index](README.md).*\n"},"currentPath":"atrforge"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["atrforge","atrforge"]},"buildId":"CnF04P5ob_bUVxETgw2P_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>