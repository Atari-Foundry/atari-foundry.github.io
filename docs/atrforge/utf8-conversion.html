<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">UTF8 CONVERSION | atrforge Documentation | Atari Foundry</title><meta name="description" content="atrforge documentation: UTF8 CONVERSION" data-next-head=""/><link rel="preload" href="/images/foundry_logo_50H.png" as="image" data-next-head=""/><link rel="preload" href="/_next/static/chunks/c81f129e50a5fd79.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/c81f129e50a5fd79.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/e8a4a4ae55bc5744.js" defer=""></script><script src="/_next/static/chunks/00dac80f236dcabb.js" defer=""></script><script src="/_next/static/chunks/44f6bc00d9aaf830.js" defer=""></script><script src="/_next/static/chunks/fd7cb30d70431a0f.js" defer=""></script><script src="/_next/static/chunks/turbopack-4769270d21ef6607.js" defer=""></script><script src="/_next/static/chunks/1b081b821847ed60.js" defer=""></script><script src="/_next/static/chunks/39b01aa8a3352426.js" defer=""></script><script src="/_next/static/chunks/b56fd671c61106a7.js" defer=""></script><script src="/_next/static/chunks/turbopack-ab1a8023ffca1f9c.js" defer=""></script><script src="/_next/static/uKcVMkypfjITnNYGcdC5l/_ssgManifest.js" defer=""></script><script src="/_next/static/uKcVMkypfjITnNYGcdC5l/_buildManifest.js" defer=""></script></head><body><div id="__next"><div class="crt"><div class="scanlines" aria-hidden="true"></div><div class="noise" aria-hidden="true"></div><nav class="nav"><a class="nav-brand" href="/"><img alt="Atari Foundry icon" width="72" height="50" decoding="async" data-nimg="1" style="color:transparent;height:40px;width:auto" src="/images/foundry_logo_50H.png"/><div><span class="nav-brand-title">Atari Foundry</span><span class="nav-brand-sub">Products for Atari 8-bit</span></div></a><ul class="nav-links"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/vault">Vault</a></li><li class="nav-item has-children"><button type="button" class="nav-link nav-trigger active" aria-haspopup="true" aria-expanded="false">Docs</button><div class="nav-dropdown"><a class="nav-dropdown-link" href="/docs/crucible">Crucible</a><a class="nav-dropdown-link" href="/docs/atrforge">atrforge</a><a class="nav-dropdown-link" href="/docs/forge">FORGE</a></div></li><li class="nav-item"><a class="nav-link" href="/support">Support</a></li></ul></nav><header class="subhero"><p class="label">atrforge<!-- --> Documentation</p><h1 class="page-title">UTF8 CONVERSION</h1></header><main><div class="docs-layout"><aside class="docs-sidebar"><nav class="docs-nav"><div class="docs-nav-section"><h3>Documentation</h3><ul style="list-style:none;padding:0;margin:0"><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/readme">README</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/advanced">ADVANCED</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atr-format">ATR FORMAT</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrcp">ATRCP</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/atrforge">ATRFORGE</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/attributions">ATTRIBUTIONS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/boot-files">BOOT FILES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/changelog">CHANGELOG</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/convertatr">CONVERTATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/dos-formats">DOS FORMATS</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/examples">EXAMPLES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/file-attributes">FILE ATTRIBUTES</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/installation">INSTALLATION</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/lsatr">LSATR</a></li><li><a class="doc-link " style="padding-left:0rem" href="/docs/atrforge/troubleshooting">TROUBLESHOOTING</a></li><li><a class="doc-link active" style="padding-left:0rem" href="/docs/atrforge/utf8-conversion">UTF8 CONVERSION</a></li></ul></div></nav></aside><div class="docs-content"><div class="docs-body"><div class="doc-markdown"><h1>UTF8 / ATASCII Conversion</h1>
<p>Modern text editors use UTF8. Atari computers use ATASCII. They&#x27;re not the same thing. This is why we have conversion tools. Because sometimes you want to edit Atari text files in a modern editor without everything breaking.</p>
<h2>Overview</h2>
<p>ATASCII (ATARI ASCII) is the character encoding used by Atari 8-bit computers. It&#x27;s similar to ASCII, but with some differences:</p>
<ul>
<li>Uses the high bit for graphics characters</li>
<li>Line endings are character 155 (not newline)</li>
<li>Some characters are different from standard ASCII</li>
</ul>
<p>UTF8 is what modern editors use. It&#x27;s Unicode encoded in a way that&#x27;s compatible with ASCII for the basic characters, but can represent any Unicode character.</p>
<p><strong>The problem:</strong> Edit an ATASCII file in a UTF8 editor, and things break. Edit a UTF8 file on an Atari, and things break.</p>
<p><strong>The solution:</strong> Convert between them. That&#x27;s what the conversion tools do.</p>
<h2>Why Conversion is Needed</h2>
<h3>The ATASCII Character Set</h3>
<p>ATASCII uses:</p>
<ul>
<li><strong>Standard ASCII</strong> for most characters (0-127)</li>
<li><strong>High-bit graphics</strong> for special characters (128-255)</li>
<li><strong>Character 155</strong> for line endings (instead of newline, 0x0a)</li>
</ul>
<h3>The UTF8 Character Set</h3>
<p>UTF8 uses:</p>
<ul>
<li><strong>Standard ASCII</strong> for basic characters (0-127)</li>
<li><strong>Multi-byte sequences</strong> for extended characters</li>
<li><strong>Newline (0x0a)</strong> for line endings</li>
</ul>
<h3>The Conflicts</h3>
<ol>
<li><strong>Line endings</strong> - ATASCII uses 155, UTF8 uses 0x0a</li>
<li><strong>High-bit characters</strong> - ATASCII high-bit chars don&#x27;t map directly to UTF8</li>
<li><strong>Extended characters</strong> - Different encoding schemes</li>
</ol>
<h2>How Conversion Works</h2>
<h3>ATASCII to UTF8</h3>
<p>When converting from ATASCII to UTF8:</p>
<ol>
<li><strong>Line endings:</strong> Character 155 → 0x0a (newline)</li>
<li><strong>Standard ASCII:</strong> Characters 0-127 → Same in UTF8</li>
<li><strong>High-bit characters:</strong> Encoded as UTF8 sequences (0xee 0x80|(c&gt;&gt;6) 0x80|(c&amp;0x3f))</li>
</ol>
<p>The high-bit characters are encoded as 3-byte UTF8 sequences that represent the ATASCII character value.</p>
<h3>UTF8 to ATASCII</h3>
<p>When converting from UTF8 to ATASCII:</p>
<ol>
<li><strong>Line endings:</strong> 0x0a (newline) → Character 155</li>
<li><strong>Standard ASCII:</strong> Characters 0-127 → Same in ATASCII</li>
<li><strong>UTF8 sequences:</strong> Decoded back to ATASCII high-bit characters</li>
</ol>
<p>UTF8 multi-byte sequences that represent ATASCII characters are decoded back to single-byte ATASCII values.</p>
<h3>7-bit Mode</h3>
<p>7-bit mode strips the high bit from characters during ATASCII→UTF8 conversion:</p>
<ul>
<li>Characters 128-255 → Characters 0-127 (high bit removed)</li>
<li>Useful when you want pure 7-bit ASCII</li>
<li>Only affects ATASCII→UTF8 conversion</li>
</ul>
<h2>Conversion in Tools</h2>
<h3>atrforge</h3>
<p>Convert files from UTF8 to ATASCII when creating an image:</p>
<pre><pre class="language-bash"><code class="language-bash">atrforge --to-atascii disk.atr source.bas
</code></pre></pre>
<p>This converts <code>source.bas</code> from UTF8 to ATASCII before adding it to the disk.</p>
<h3>atrcp</h3>
<p>Convert files in either direction:</p>
<p><strong>Extract and convert to UTF8:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-utf8 disk.atr:SOURCE.BAS source.bas
</code></pre></pre>
<p><strong>Add and convert to ATASCII:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-atascii source.bas disk.atr:SOURCE.BAS
</code></pre></pre>
<p><strong>7-bit mode:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt
</code></pre></pre>
<h3>convertatr</h3>
<p>Convert all files in an image during resize/conversion:</p>
<p><strong>Convert all files to UTF8:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">convertatr --convert-utf8 --resize 1440 disk.atr disk_utf8.atr
</code></pre></pre>
<p><strong>Convert all files to ATASCII:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">convertatr --convert-atascii --sector-size 256 disk.atr disk_atascii.atr
</code></pre></pre>
<h2>Conversion Examples</h2>
<h3>Editing a BASIC File</h3>
<ol>
<li>
<p><strong>Extract with UTF8 conversion:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-utf8 disk.atr:PROGRAM.BAS program.bas
</code></pre></pre>
</li>
<li>
<p><strong>Edit in your favorite editor:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">vim program.bas  # or nano, emacs, VS Code, etc.
</code></pre></pre>
</li>
<li>
<p><strong>Add back with ATASCII conversion:</strong></p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --to-atascii program.bas disk.atr:PROGRAM.BAS
</code></pre></pre>
</li>
</ol>
<p>Now you can edit Atari BASIC files in modern editors without breaking them.</p>
<h3>Batch Conversion</h3>
<p>Convert all files in an image to UTF8:</p>
<pre><pre class="language-bash"><code class="language-bash">convertatr --convert-utf8 --resize 1440 disk.atr disk_utf8.atr
</code></pre></pre>
<p>This creates a new image with all files converted to UTF8. Useful if you want to edit multiple files.</p>
<h3>7-bit ASCII Extraction</h3>
<p>Extract a file as 7-bit ASCII:</p>
<pre><pre class="language-bash"><code class="language-bash">atrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt
</code></pre></pre>
<p>This strips the high bit, giving you pure 7-bit ASCII. Useful for compatibility with systems that don&#x27;t handle high-bit characters well.</p>
<h2>Character Mapping</h2>
<h3>Standard ASCII (0-127)</h3>
<p>These characters are the same in both ATASCII and UTF8:</p>
<ul>
<li>Letters (A-Z, a-z)</li>
<li>Numbers (0-9)</li>
<li>Basic punctuation</li>
<li>Control characters (with some exceptions)</li>
</ul>
<h3>Line Endings</h3>
<ul>
<li><strong>ATASCII:</strong> Character 155 (0x9B)</li>
<li><strong>UTF8:</strong> Newline (0x0A)</li>
</ul>
<p>Conversion handles this automatically.</p>
<h3>High-bit Characters (128-255)</h3>
<p>ATASCII high-bit characters are encoded as UTF8 sequences:</p>
<ul>
<li><strong>ATASCII byte:</strong> Single byte (128-255)</li>
<li><strong>UTF8 encoding:</strong> 3-byte sequence (0xee 0x80|(c&gt;&gt;6) 0x80|(c&amp;0x3f))</li>
</ul>
<p>When converting back, these sequences are decoded to the original ATASCII byte.</p>
<h2>Best Practices</h2>
<ol>
<li><strong>Convert when extracting</strong> - Use <code>--to-utf8</code> when extracting files you want to edit</li>
<li><strong>Convert when adding</strong> - Use <code>--to-atascii</code> when adding edited files back</li>
<li><strong>Keep originals</strong> - Backup original files before converting</li>
<li><strong>Test after conversion</strong> - Verify converted files work on the Atari</li>
<li><strong>Use 7-bit mode carefully</strong> - Only use <code>--7bit</code> if you need pure 7-bit ASCII</li>
</ol>
<h2>Limitations</h2>
<ol>
<li><strong>Round-trip conversion</strong> - Converting ATASCII→UTF8→ATASCII should preserve data, but test to be sure</li>
<li><strong>Non-ATASCII UTF8</strong> - UTF8 characters that aren&#x27;t ATASCII may not convert correctly</li>
<li><strong>Binary files</strong> - Don&#x27;t convert binary files (they&#x27;ll break)</li>
<li><strong>File conversion is all-or-nothing</strong> - In <code>convertatr</code>, all files are converted or none</li>
</ol>
<h2>Tips and Tricks</h2>
<ol>
<li><strong>Edit workflow</strong> - Extract with <code>--to-utf8</code>, edit, add with <code>--to-atascii</code></li>
<li><strong>Batch operations</strong> - Use <code>convertatr</code> for converting entire images</li>
<li><strong>7-bit for compatibility</strong> - Use <code>--7bit</code> if you need maximum compatibility</li>
<li><strong>Test first</strong> - Always test converted files before using them</li>
<li><strong>Keep backups</strong> - Original files are your safety net</li>
</ol>
<h2>Common Mistakes</h2>
<ul>
<li><strong>Converting binary files</strong> - Don&#x27;t convert <code>.com</code>, <code>.xex</code>, or other binary files</li>
<li><strong>Forgetting conversion</strong> - Remember to convert when extracting/adding edited files</li>
<li><strong>Wrong direction</strong> - Make sure you&#x27;re converting in the right direction</li>
<li><strong>Expecting perfect round-trip</strong> - Some edge cases may not convert perfectly</li>
<li><strong>Using 7-bit unnecessarily</strong> - Only use <code>--7bit</code> if you actually need it</li>
</ul>
<h2>See Also</h2>
<ul>
<li><a node="[object Object]" href="/docs/atrforge/atrforge">atrforge</a> - Creating images with UTF8→ATASCII conversion</li>
<li><a node="[object Object]" href="/docs/atrforge/atrcp">atrcp</a> - Copying files with conversion</li>
<li><a node="[object Object]" href="/docs/atrforge/convertatr">convertatr</a> - Converting entire images</li>
<li><a node="[object Object]" href="/docs/atrforge/examples">Examples</a> - Conversion workflow examples</li>
</ul>
<hr/>
<p><em>For the complete tool list, see the <a node="[object Object]" href="/docs/atrforge">main documentation index</a>.</em></p></div></div></div></div></main><footer class="footer"><p>© 2026 Atari Foundry · Rick Collette · Software for Atari 8-bit builders.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"product":"atrforge","productDocs":{"product":"atrforge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","relativePath":"ATR_FORMAT.md","relativeDir":"","filename":"ATR_FORMAT","slug":"atr-format","name":"ATR FORMAT"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","relativePath":"ATTRIBUTIONS.md","relativeDir":"","filename":"ATTRIBUTIONS","slug":"attributions","name":"ATTRIBUTIONS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","relativePath":"BOOT_FILES.md","relativeDir":"","filename":"BOOT_FILES","slug":"boot-files","name":"BOOT FILES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","relativePath":"CHANGELOG.md","relativeDir":"","filename":"CHANGELOG","slug":"changelog","name":"CHANGELOG"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","relativePath":"CONVERTATR.md","relativeDir":"","filename":"CONVERTATR","slug":"convertatr","name":"CONVERTATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","relativePath":"DOS_FORMATS.md","relativeDir":"","filename":"DOS_FORMATS","slug":"dos-formats","name":"DOS FORMATS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","relativePath":"EXAMPLES.md","relativeDir":"","filename":"EXAMPLES","slug":"examples","name":"EXAMPLES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","relativePath":"FILE_ATTRIBUTES.md","relativeDir":"","filename":"FILE_ATTRIBUTES","slug":"file-attributes","name":"FILE ATTRIBUTES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","relativePath":"INSTALLATION.md","relativeDir":"","filename":"INSTALLATION","slug":"installation","name":"INSTALLATION"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","relativePath":"TROUBLESHOOTING.md","relativeDir":"","filename":"TROUBLESHOOTING","slug":"troubleshooting","name":"TROUBLESHOOTING"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION"}],"navTree":{"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","isIndex":true},{"name":"ADVANCED","slug":"advanced","path":"ADVANCED.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","isIndex":false},{"name":"ATR FORMAT","slug":"atr-format","path":"ATR_FORMAT.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","isIndex":false},{"name":"ATRCP","slug":"atrcp","path":"ATRCP.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","isIndex":false},{"name":"ATRFORGE","slug":"atrforge","path":"ATRFORGE.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","isIndex":false},{"name":"ATTRIBUTIONS","slug":"attributions","path":"ATTRIBUTIONS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","isIndex":false},{"name":"BOOT FILES","slug":"boot-files","path":"BOOT_FILES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","isIndex":false},{"name":"CHANGELOG","slug":"changelog","path":"CHANGELOG.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","isIndex":false},{"name":"CONVERTATR","slug":"convertatr","path":"CONVERTATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","isIndex":false},{"name":"DOS FORMATS","slug":"dos-formats","path":"DOS_FORMATS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","isIndex":false},{"name":"EXAMPLES","slug":"examples","path":"EXAMPLES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","isIndex":false},{"name":"FILE ATTRIBUTES","slug":"file-attributes","path":"FILE_ATTRIBUTES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","isIndex":false},{"name":"INSTALLATION","slug":"installation","path":"INSTALLATION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","isIndex":false},{"name":"LSATR","slug":"lsatr","path":"LSATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","isIndex":false},{"name":"TROUBLESHOOTING","slug":"troubleshooting","path":"TROUBLESHOOTING.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","isIndex":false},{"name":"UTF8 CONVERSION","slug":"utf8-conversion","path":"UTF8_CONVERSION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","isIndex":false}]}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION","content":"# UTF8 / ATASCII Conversion\n\nModern text editors use UTF8. Atari computers use ATASCII. They're not the same thing. This is why we have conversion tools. Because sometimes you want to edit Atari text files in a modern editor without everything breaking.\n\n## Overview\n\nATASCII (ATARI ASCII) is the character encoding used by Atari 8-bit computers. It's similar to ASCII, but with some differences:\n- Uses the high bit for graphics characters\n- Line endings are character 155 (not newline)\n- Some characters are different from standard ASCII\n\nUTF8 is what modern editors use. It's Unicode encoded in a way that's compatible with ASCII for the basic characters, but can represent any Unicode character.\n\n**The problem:** Edit an ATASCII file in a UTF8 editor, and things break. Edit a UTF8 file on an Atari, and things break.\n\n**The solution:** Convert between them. That's what the conversion tools do.\n\n## Why Conversion is Needed\n\n### The ATASCII Character Set\n\nATASCII uses:\n- **Standard ASCII** for most characters (0-127)\n- **High-bit graphics** for special characters (128-255)\n- **Character 155** for line endings (instead of newline, 0x0a)\n\n### The UTF8 Character Set\n\nUTF8 uses:\n- **Standard ASCII** for basic characters (0-127)\n- **Multi-byte sequences** for extended characters\n- **Newline (0x0a)** for line endings\n\n### The Conflicts\n\n1. **Line endings** - ATASCII uses 155, UTF8 uses 0x0a\n2. **High-bit characters** - ATASCII high-bit chars don't map directly to UTF8\n3. **Extended characters** - Different encoding schemes\n\n## How Conversion Works\n\n### ATASCII to UTF8\n\nWhen converting from ATASCII to UTF8:\n1. **Line endings:** Character 155 → 0x0a (newline)\n2. **Standard ASCII:** Characters 0-127 → Same in UTF8\n3. **High-bit characters:** Encoded as UTF8 sequences (0xee 0x80|(c\u003e\u003e6) 0x80|(c\u00260x3f))\n\nThe high-bit characters are encoded as 3-byte UTF8 sequences that represent the ATASCII character value.\n\n### UTF8 to ATASCII\n\nWhen converting from UTF8 to ATASCII:\n1. **Line endings:** 0x0a (newline) → Character 155\n2. **Standard ASCII:** Characters 0-127 → Same in ATASCII\n3. **UTF8 sequences:** Decoded back to ATASCII high-bit characters\n\nUTF8 multi-byte sequences that represent ATASCII characters are decoded back to single-byte ATASCII values.\n\n### 7-bit Mode\n\n7-bit mode strips the high bit from characters during ATASCII→UTF8 conversion:\n- Characters 128-255 → Characters 0-127 (high bit removed)\n- Useful when you want pure 7-bit ASCII\n- Only affects ATASCII→UTF8 conversion\n\n## Conversion in Tools\n\n### atrforge\n\nConvert files from UTF8 to ATASCII when creating an image:\n\n```bash\natrforge --to-atascii disk.atr source.bas\n```\n\nThis converts `source.bas` from UTF8 to ATASCII before adding it to the disk.\n\n### atrcp\n\nConvert files in either direction:\n\n**Extract and convert to UTF8:**\n```bash\natrcp --to-utf8 disk.atr:SOURCE.BAS source.bas\n```\n\n**Add and convert to ATASCII:**\n```bash\natrcp --to-atascii source.bas disk.atr:SOURCE.BAS\n```\n\n**7-bit mode:**\n```bash\natrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt\n```\n\n### convertatr\n\nConvert all files in an image during resize/conversion:\n\n**Convert all files to UTF8:**\n```bash\nconvertatr --convert-utf8 --resize 1440 disk.atr disk_utf8.atr\n```\n\n**Convert all files to ATASCII:**\n```bash\nconvertatr --convert-atascii --sector-size 256 disk.atr disk_atascii.atr\n```\n\n## Conversion Examples\n\n### Editing a BASIC File\n\n1. **Extract with UTF8 conversion:**\n   ```bash\n   atrcp --to-utf8 disk.atr:PROGRAM.BAS program.bas\n   ```\n\n2. **Edit in your favorite editor:**\n   ```bash\n   vim program.bas  # or nano, emacs, VS Code, etc.\n   ```\n\n3. **Add back with ATASCII conversion:**\n   ```bash\n   atrcp --to-atascii program.bas disk.atr:PROGRAM.BAS\n   ```\n\nNow you can edit Atari BASIC files in modern editors without breaking them.\n\n### Batch Conversion\n\nConvert all files in an image to UTF8:\n\n```bash\nconvertatr --convert-utf8 --resize 1440 disk.atr disk_utf8.atr\n```\n\nThis creates a new image with all files converted to UTF8. Useful if you want to edit multiple files.\n\n### 7-bit ASCII Extraction\n\nExtract a file as 7-bit ASCII:\n\n```bash\natrcp --7bit --to-utf8 disk.atr:FILE.TXT file.txt\n```\n\nThis strips the high bit, giving you pure 7-bit ASCII. Useful for compatibility with systems that don't handle high-bit characters well.\n\n## Character Mapping\n\n### Standard ASCII (0-127)\n\nThese characters are the same in both ATASCII and UTF8:\n- Letters (A-Z, a-z)\n- Numbers (0-9)\n- Basic punctuation\n- Control characters (with some exceptions)\n\n### Line Endings\n\n- **ATASCII:** Character 155 (0x9B)\n- **UTF8:** Newline (0x0A)\n\nConversion handles this automatically.\n\n### High-bit Characters (128-255)\n\nATASCII high-bit characters are encoded as UTF8 sequences:\n- **ATASCII byte:** Single byte (128-255)\n- **UTF8 encoding:** 3-byte sequence (0xee 0x80|(c\u003e\u003e6) 0x80|(c\u00260x3f))\n\nWhen converting back, these sequences are decoded to the original ATASCII byte.\n\n## Best Practices\n\n1. **Convert when extracting** - Use `--to-utf8` when extracting files you want to edit\n2. **Convert when adding** - Use `--to-atascii` when adding edited files back\n3. **Keep originals** - Backup original files before converting\n4. **Test after conversion** - Verify converted files work on the Atari\n5. **Use 7-bit mode carefully** - Only use `--7bit` if you need pure 7-bit ASCII\n\n## Limitations\n\n1. **Round-trip conversion** - Converting ATASCII→UTF8→ATASCII should preserve data, but test to be sure\n2. **Non-ATASCII UTF8** - UTF8 characters that aren't ATASCII may not convert correctly\n3. **Binary files** - Don't convert binary files (they'll break)\n4. **File conversion is all-or-nothing** - In `convertatr`, all files are converted or none\n\n## Tips and Tricks\n\n1. **Edit workflow** - Extract with `--to-utf8`, edit, add with `--to-atascii`\n2. **Batch operations** - Use `convertatr` for converting entire images\n3. **7-bit for compatibility** - Use `--7bit` if you need maximum compatibility\n4. **Test first** - Always test converted files before using them\n5. **Keep backups** - Original files are your safety net\n\n## Common Mistakes\n\n- **Converting binary files** - Don't convert `.com`, `.xex`, or other binary files\n- **Forgetting conversion** - Remember to convert when extracting/adding edited files\n- **Wrong direction** - Make sure you're converting in the right direction\n- **Expecting perfect round-trip** - Some edge cases may not convert perfectly\n- **Using 7-bit unnecessarily** - Only use `--7bit` if you actually need it\n\n## See Also\n\n- [atrforge](ATRFORGE.md) - Creating images with UTF8→ATASCII conversion\n- [atrcp](ATRCP.md) - Copying files with conversion\n- [convertatr](CONVERTATR.md) - Converting entire images\n- [Examples](EXAMPLES.md) - Conversion workflow examples\n\n---\n\n*For the complete tool list, see the [main documentation index](README.md).*\n"},"currentPath":"utf8-conversion"},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["atrforge","utf8-conversion"]},"buildId":"uKcVMkypfjITnNYGcdC5l","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>