{"pageProps":{"product":"atrforge","productDocs":{"product":"atrforge","files":[{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","relativePath":"README.md","relativeDir":"","filename":"README","slug":"readme","name":"README"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","relativePath":"ADVANCED.md","relativeDir":"","filename":"ADVANCED","slug":"advanced","name":"ADVANCED"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","relativePath":"ATR_FORMAT.md","relativeDir":"","filename":"ATR_FORMAT","slug":"atr-format","name":"ATR FORMAT"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","relativePath":"ATRCP.md","relativeDir":"","filename":"ATRCP","slug":"atrcp","name":"ATRCP"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","relativePath":"ATRFORGE.md","relativeDir":"","filename":"ATRFORGE","slug":"atrforge","name":"ATRFORGE"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","relativePath":"ATTRIBUTIONS.md","relativeDir":"","filename":"ATTRIBUTIONS","slug":"attributions","name":"ATTRIBUTIONS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","relativePath":"BOOT_FILES.md","relativeDir":"","filename":"BOOT_FILES","slug":"boot-files","name":"BOOT FILES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","relativePath":"CHANGELOG.md","relativeDir":"","filename":"CHANGELOG","slug":"changelog","name":"CHANGELOG"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","relativePath":"CONVERTATR.md","relativeDir":"","filename":"CONVERTATR","slug":"convertatr","name":"CONVERTATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","relativePath":"DOS_FORMATS.md","relativeDir":"","filename":"DOS_FORMATS","slug":"dos-formats","name":"DOS FORMATS"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","relativePath":"EXAMPLES.md","relativeDir":"","filename":"EXAMPLES","slug":"examples","name":"EXAMPLES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","relativePath":"FILE_ATTRIBUTES.md","relativeDir":"","filename":"FILE_ATTRIBUTES","slug":"file-attributes","name":"FILE ATTRIBUTES"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","relativePath":"INSTALLATION.md","relativeDir":"","filename":"INSTALLATION","slug":"installation","name":"INSTALLATION"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","relativePath":"TROUBLESHOOTING.md","relativeDir":"","filename":"TROUBLESHOOTING","slug":"troubleshooting","name":"TROUBLESHOOTING"},{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","relativePath":"UTF8_CONVERSION.md","relativeDir":"","filename":"UTF8_CONVERSION","slug":"utf8-conversion","name":"UTF8 CONVERSION"}],"navTree":{"_files":[{"name":"README","slug":"readme","path":"README.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/README.md","isIndex":true},{"name":"ADVANCED","slug":"advanced","path":"ADVANCED.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ADVANCED.md","isIndex":false},{"name":"ATR FORMAT","slug":"atr-format","path":"ATR_FORMAT.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATR_FORMAT.md","isIndex":false},{"name":"ATRCP","slug":"atrcp","path":"ATRCP.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRCP.md","isIndex":false},{"name":"ATRFORGE","slug":"atrforge","path":"ATRFORGE.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATRFORGE.md","isIndex":false},{"name":"ATTRIBUTIONS","slug":"attributions","path":"ATTRIBUTIONS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/ATTRIBUTIONS.md","isIndex":false},{"name":"BOOT FILES","slug":"boot-files","path":"BOOT_FILES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/BOOT_FILES.md","isIndex":false},{"name":"CHANGELOG","slug":"changelog","path":"CHANGELOG.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CHANGELOG.md","isIndex":false},{"name":"CONVERTATR","slug":"convertatr","path":"CONVERTATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/CONVERTATR.md","isIndex":false},{"name":"DOS FORMATS","slug":"dos-formats","path":"DOS_FORMATS.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/DOS_FORMATS.md","isIndex":false},{"name":"EXAMPLES","slug":"examples","path":"EXAMPLES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/EXAMPLES.md","isIndex":false},{"name":"FILE ATTRIBUTES","slug":"file-attributes","path":"FILE_ATTRIBUTES.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/FILE_ATTRIBUTES.md","isIndex":false},{"name":"INSTALLATION","slug":"installation","path":"INSTALLATION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/INSTALLATION.md","isIndex":false},{"name":"LSATR","slug":"lsatr","path":"LSATR.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","isIndex":false},{"name":"TROUBLESHOOTING","slug":"troubleshooting","path":"TROUBLESHOOTING.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/TROUBLESHOOTING.md","isIndex":false},{"name":"UTF8 CONVERSION","slug":"utf8-conversion","path":"UTF8_CONVERSION.md","fullPath":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/UTF8_CONVERSION.md","isIndex":false}]}},"docFile":{"path":"/home/megalith/AtariProjects/AtariFoundry/www/PROJECT_DOCS/atrforge/LSATR.md","relativePath":"LSATR.md","relativeDir":"","filename":"LSATR","slug":"lsatr","name":"LSATR","content":"# lsatr - List and Extract ATR Contents\n\n`lsatr` is the nosy neighbor of the atrforge toolkit. It peeks inside ATR images, lists their contents, and extracts files. Think of it as `ls` and `tar` combined, but specifically designed for 8-bit disk images. It's actually pretty useful.\n\n## Overview\n\nlsatr can read and extract files from a wide variety of Atari DOS formats. It's like a universal disk image reader, except it doesn't actually read the disk - it reads the image file. You know, the modern way.\n\n**What it does:**\n- Lists files in ATR images\n- Extracts files from ATR images\n- Supports multiple DOS formats (see below)\n- Shows file sizes, dates, and attributes\n- Verifies ATR image integrity\n\n**What it doesn't do:**\n- Create new images (that's `atrforge`'s job)\n- Modify images (use `atrforge -a` or `atrcp` for that)\n- Make your coffee (still working on it)\n\n## Command Syntax\n\n```bash\nlsatr [options] <atr_image_file>\n```\n\nSimple enough: give it options and an ATR file, and it does its thing.\n\n## Options\n\n### `-a` - Atari Format Listing\n\nShows the listing in native Atari format instead of the default UNIX-style format. This means:\n- Filename separated by spaces to the extension (like \"MY FILE COM\" instead of \"MYFILE.COM\")\n- Size, date, and time (if available)\n- Each subdirectory in a separate listing\n\n```bash\nlsatr -a disk.atr\n```\n\nThe standard format shows size, date, time (if available), and the full path at the end. Use `-a` if you want that nostalgic Atari feel.\n\n### `-l` - Lowercase Filenames\n\nConverts all filenames to lowercase when listing or extracting. Because sometimes you want consistency, and Atari filenames are traditionally uppercase.\n\n```bash\nlsatr -l disk.atr\n```\n\nThis affects both listing and extraction. Useful if you're working on a case-sensitive filesystem and want everything lowercase.\n\n### `-x` - Extract to Current Directory\n\nExtracts all files to the current directory. Simple and straightforward.\n\n```bash\nlsatr -x disk.atr\n```\n\nFiles are extracted with their directory structure preserved (relative to the current directory). If a file already exists, it won't be overwritten unless you use `-f`.\n\n### `-X <path>` - Extract to Specific Directory\n\nExtracts all files to the specified directory. If the directory doesn't exist, it will be created. How convenient!\n\n```bash\nlsatr -X output/ disk.atr\n```\n\nThis is the preferred way to extract files if you want them in a specific location. The directory is created automatically, so you don't need to create it first.\n\n### `-f` - Force Overwrite\n\nAllows overwriting existing files during extraction. By default, lsatr won't overwrite existing files (because we're not monsters). Use this flag if you want to overwrite them anyway.\n\n```bash\nlsatr -f -X output/ disk.atr\n```\n\n**Warning:** This will overwrite files without asking. Make sure you know what you're doing.\n\n### `-q` - Quiet Mode\n\nSuppresses informational messages. Only shows errors and the actual output (file listings or extraction progress).\n\n```bash\nlsatr -q disk.atr\n```\n\nUseful in scripts or when you just want the facts without the commentary.\n\n### `--verify` - Verify Image Integrity\n\nVerifies that the ATR image is valid and can be loaded correctly. This checks:\n- Valid ATR header\n- Reasonable sector count and size\n- Image structure integrity\n\n```bash\nlsatr --verify disk.atr\n```\n\nThis is a read-only operation - it doesn't extract or list files, just verifies the image is okay. Useful for checking if an image is corrupted before trying to use it.\n\n### `-h` - Help\n\nShows a brief help message. You're reading the extended version.\n\n### `-v` - Version\n\nShows version information. Because version numbers are important.\n\n## Supported DOS Formats\n\nlsatr supports reading from a wide variety of Atari DOS formats. Here's the list:\n\n### Creation Support (SpartaDOS/BW-DOS)\n\n- **SpartaDOS** - Full read/write support (this is what `atrforge` creates)\n- **BW-DOS** - Full read/write support (compatible with SpartaDOS)\n\n### Read-Only Support\n\n- **Atari DOS 1** - Single density only\n- **Atari DOS 2.0** - Single and double density\n- **Atari DOS 2.5** - Enhanced density\n- **MyDOS** - Up to 16MB images\n- **LiteDOS 2.x** - LiteDOS and LiteDOS-SE\n- **BAS2BOOT images** - Extracts the BAS file inside\n- **Howfen DOS images** - Extracts the raw BOOT images\n- **K-file boot images** - Extracts the XEX file inside\n\nlsatr tries each format in order until it finds one that works. It's like a universal key that tries different locks until one opens.\n\n## Listing Formats\n\n### Standard Format\n\nThe default format shows:\n- File size\n- Date and time (if available)\n- Full path\n\nExample:\n```\n   1234 2024-01-15 10:30:00 GAMES/GAME1.COM\n   5678 2024-01-15 10:31:00 GAMES/GAME2.COM\n```\n\n### Atari Format (`-a`)\n\nThe Atari format shows:\n- Filename with spaces (e.g., \"MY FILE COM\")\n- Size\n- Date and time\n- Separate listings for each subdirectory\n\nExample:\n```\nMY FILE    COM    1234  2024-01-15 10:30:00\nANOTHER    BAS    5678  2024-01-15 10:31:00\n```\n\n## Extraction Behavior\n\nWhen extracting files:\n\n1. **Directory structure is preserved** - Subdirectories are created as needed\n2. **Path sanitization** - Dangerous path components (`..`, absolute paths) are removed for security\n3. **File permissions** - Extracted files are created with mode 0666 (read/write for all)\n4. **Overwrite protection** - Existing files are not overwritten unless `-f` is used\n\n## Examples\n\n### Basic Listing\n\nList files in an ATR image:\n\n```bash\nlsatr disk.atr\n```\n\n### Atari-Style Listing\n\nList files in native Atari format:\n\n```bash\nlsatr -a disk.atr\n```\n\n### Extract to Current Directory\n\nExtract all files to the current directory:\n\n```bash\nlsatr -x disk.atr\n```\n\n### Extract to Specific Directory\n\nExtract all files to a specific directory:\n\n```bash\nlsatr -X extracted/ disk.atr\n```\n\n### Extract with Lowercase Names\n\nExtract files with lowercase filenames:\n\n```bash\nlsatr -l -X output/ disk.atr\n```\n\n### Force Overwrite\n\nExtract files, overwriting existing ones:\n\n```bash\nlsatr -f -X output/ disk.atr\n```\n\n### Verify Image\n\nCheck if an ATR image is valid:\n\n```bash\nlsatr --verify disk.atr\n```\n\n### Quiet Mode\n\nList files without informational messages:\n\n```bash\nlsatr -q disk.atr\n```\n\n### Multiple Images\n\nYou can list multiple images (though extraction only works with one at a time):\n\n```bash\nlsatr disk1.atr disk2.atr disk3.atr\n```\n\n## Security Considerations\n\nlsatr implements path sanitization to prevent directory traversal attacks:\n\n- **Directory traversal prevention** - `..` components are removed from paths\n- **Absolute path rejection** - Absolute paths are rejected\n- **Path validation** - All path components are validated\n\nHowever, you should still be cautious when extracting files from untrusted ATR images. See [SECURITY.md](../SECURITY.md) for more details.\n\n## Tips and Tricks\n\n1. **Use `-X` for extraction** - It's cleaner than `-x` and lets you specify the output directory.\n\n2. **Combine `-l` with extraction** - If you want lowercase filenames, use `-l` with `-x` or `-X`.\n\n3. **Verify before extracting** - Use `--verify` to check an image before extracting, especially if it's from an untrusted source.\n\n4. **Atari format for nostalgia** - Use `-a` if you want that authentic Atari directory listing feel.\n\n5. **Quiet mode in scripts** - Use `-q` when scripting to avoid extra output.\n\n## Common Mistakes\n\n- **Trying to extract multiple images** - Extraction only works with one image at a time. List multiple, extract one.\n\n- **Forgetting the directory with `-X`** - The `-X` option requires a directory argument. Don't forget it.\n\n- **Expecting `-a` to work with extraction** - The `-a` and `-x` options are incompatible. Pick one.\n\n- **Not using `-f` when you need to overwrite** - By default, existing files won't be overwritten. Use `-f` if you want to force it.\n\n## See Also\n\n- [Examples](EXAMPLES.md) - More usage examples\n- [DOS Formats](DOS_FORMATS.md) - Details on supported formats\n- [Troubleshooting](TROUBLESHOOTING.md) - Common issues and solutions\n- [atrcp](ATRCP.md) - For copying individual files\n\n---\n\n*For the complete tool list, see the [main documentation index](README.md).*\n"},"currentPath":"lsatr"},"__N_SSG":true}